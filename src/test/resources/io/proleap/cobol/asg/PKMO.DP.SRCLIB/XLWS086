000100****************************************************************          
000200* XLWS086    COMMAREA FOR PERM PRICE 'BLACK BOX'  LRECL = 1000 *          
000300****************************************************************          
000400* XLWS086:                                                                
000500*                                                                         
000600*    ******                IMPORTANT                 ******  *            
000700*   THIS IS THE COMMUNICATION AREA TO BE USED BY A CALLING   *            
000800*   PROGRAM THAT WILL USE ROUTINE XLKUT086 TO RETRIEVE       *            
000900*   THE PERM PRICE CHANGE EFFECTIVE DATE THAT FALLS BETWEEN  *            
001000*   A GIVEN NUMBER OF DAYS BEFORE CURRENT DATE AND A GIVEN   *            
001100*   NUMBER OF DAYS AFTER CURRENT DATE.                       *            
001200*                                                            *            
001300*   TO INVOKE THIS PROGRAM FROM A CICS EXIT YOU MUST USE     *            
001400*   THIS FORMAT:                                             *            
001500*     CALL XL086-PR-CHG-PGM USING DFHEIBLK                   *            
001600*                              XL086-COMMAREA                *            
001700*                              XL086-PR-CHG-COMMAREA         *            
001800*                                                            *            
001900*     ALL DATA IN XL086-INPUT-DATA IS REQUIRED.  IF ANY      *            
002000*     OF THE DATA IS MISSING IT WILL RESULT IN A NOT FOUND.  *            
002100*                                                            *            
002200*     REGARDING XL086-OUTPUT-FIELDS:                         *            
002300*       XL086-DOC-NBR         IS ALWAYS RETURNED.            *            
002400*       XL086-NEW-RTL-AMT     IS ALWAYS RETURNED.            *            
002500*       XL086-EFF-DTE         IS ALWAYS RETURNED.            *            
002600*                                                            *            
002700*     NOTE: IF FIELD(S) ARE ADDED TO THIS COPYBOOK           *            
002800*           DECREMENT THE FILLER NEAR THE END OF THIS        *            
002900*           COPYBOOK SO THE TOTAL LENGTH REMAINS THE SAME    *            
003000*           AT LENGTH OF 1000                                *            
003100**************************************************************            
003200 01  XL086-PR-CHG-COMMAREA.                                               
003300     05  XL086-INPUT-DATA.                                                
003400         10  XL086-KEY-ITM-NBR            PIC  S9(15)V COMP-3.            
003500         10  XL086-KEY-SKU-NBR            PIC  S9(8)V COMP-3.             
003600         10  XL086-KEY-BEFORE-DAYS        PIC  S9(9)  COMP.               
003700         10  XL086-KEY-AFTER-DAYS         PIC  S9(9)  COMP.               
003800     05  XL086-RETURN-DATA.                                               
003900         10  XL086-DOC-NBR                PIC  S9(9) COMP.                
004000         10  XL086-NEW-RTL-AMT            PIC  S9(7)V9(2) COMP-3.         
004100         10  XL086-EFF-DTE                PIC  X(10).                     
004200         10  XL086-SQLCODE                PIC  X(10).                     
004300         10  XL086-DB2-TABLE              PIC  X(08).                     
004400     05  XL086-PROCESSING-RETURN-CODES.                                   
004500         10  XL086-CRA-RET-CDE            PIC  X(02) VALUE ZEROES.        
004600             88  XL086-SUCCESSFUL             VALUE SPACES.               
004700             88  XL086-SQL-ERROR              VALUE '01'.                 
004800         10  XL086-CRA-RET-MSG            PIC X(133) VALUE SPACES.        
004900         10  XL086-CRA-REQ-ID             PIC X(08)  VALUE SPACES.        
005000     05  XL086-SQLCA                      PIC X(136).                     
005100     05  XL086-SWITCHES.                                                  
005200         10  XL086-DOC-FOUND-SW           PIC  X(01) VALUE 'N'.           
005300             88  XL086-PPC-DOC-FOUND                 VALUE 'Y'.           
005400             88  XL086-PPC-DOC-NOT-FOUND             VALUE 'N'.           
005500         10  XL086-OCCURRENCE-SW          PIC  X(01) VALUE 'N'.           
005600             88  XL086-OCCURRENCE-ONLY-YES           VALUE 'Y'.           
005700             88  XL086-OCCURRENCE-ONLY-NO            VALUE 'N'.           
005800         10  FILLER                       PIC X(661).                     
005900 01  XL086-COMMAREA                       PIC  X(01).                     
006000 01  XL086-PR-CHG-PGM                 PIC X(08) VALUE 'XLKUT086'.         
