000100 IDENTIFICATION DIVISION.                                         00010004
000200                                                                  00020004
000300 PROGRAM-ID.      EPKUP102.                                       00030004
000400 AUTHOR.          STEVEN NOWAK.                                   00040004
000500 INSTALLATION.    KOHLS DEPARTMENT STORES.                        00050004
000600 DATE-WRITTEN.    07/15/09.                                       00060005
000700 DATE-COMPILED.                                                   00070004
000800                                                                  00080004
000900******************************************************************00090004
001000*  MODULE TYPE:   COBOL2 DB2 BATCH.                               00100004
001100*                                                                 00110004
001200*  DESCRIPTION: PROGRAM UPDATES THE SKU_ATTR TABLE WITH THE DATA  00120005
001300*               PULLED IN PROGRAM EPKUT021                        00130006
001400*                                                                 00140004
001500*========================== CHANGE LOG ===========================00150004
001600*  AUTH        BY           DATE    DESCRIPTION                   00160009
001700*=================================================================00170004
001800* WR36870     S. NOWAK    07-15-09  CREATE PROGRAM                00180009
001900*                                                                 00190004
260107* CHG0260107  JIM HUNTER  08-19-21  ADD COPYBOOK DPWS991 TO MAKE  00191009
260107*                                   THE CALL TO DPKUT901 DYNAMIC. 00192009
002000******************************************************************00200004
002100                                                                  00210004
002200 ENVIRONMENT DIVISION.                                            00220004
002300 CONFIGURATION SECTION.                                           00230004
002400                                                                  00240004
002500 SOURCE-COMPUTER.    IBM-3090.                                    00250004
002600 OBJECT-COMPUTER.    IBM-3090.                                    00260004
002700                                                                  00270004
002800 INPUT-OUTPUT SECTION.                                            00280004
002900 FILE-CONTROL.                                                    00290004
003000                                                                  00300004
003100 DATA DIVISION.                                                   00310004
003200 FILE SECTION.                                                    00320004
003300                                                                  00330004
003400                                                                  00340004
003500***************************************************************** 00350004
003600*                       WORKING STORAGE                           00360004
003700***************************************************************** 00370004
003800 WORKING-STORAGE SECTION.                                         00380004
003900                                                                  00390004
004000 01  W-START                          PIC  X(40)                  00400004
004100     VALUE 'EPKUP102 - WORKING STORAGE BEGINS HERE'.              00410004
004200                                                                  00420004
004300                                                                  00430004
004400***************************************************************** 00440004
004500*                         SWITCHES                                00450004
004600***************************************************************** 00460004
004700 01  PROGRAM-SWITCHES.                                            00470004
004800     05  PS-RESTART-REQUIRED-SW       PIC  X(01) VALUE 'N'.       00480004
004900         88  PS-RESTART-REQUIRED                 VALUE 'Y'.       00490004
005000         88  PS-RESTART-NOT-REQUIRED             VALUE 'N'.       00500004
005100                                                                  00510004
005200******************************************************************00520004
005300*                       ACCUMULATORS                              00530004
005400******************************************************************00540004
005500 01  PROGRAM-ACCUM.                                               00550004
005600     05  PA-READ                      PIC  9(11) VALUE ZEROS.     00560004
005700     05  PA-CKPT                      PIC  9(11) VALUE ZEROS.     00570004
005800                                                                  00580004
005900******************************************************************00590004
006000*                           CONSTANTS                             00600004
006100******************************************************************00610004
006200 01  PROGRAM-CONSTANTS.                                           00620004
006300     05  PC-MAX-RETRIES               PIC S9(04) VALUE +3         00630004
006400                                                 COMP SYNC.       00640004
006500     05  PC-MAX-DEADLOCKS             PIC S9(04) VALUE +3         00650004
006600                                                 COMP SYNC.       00660004
006700                                                                  00670004
006800     05  PC-CKPT-JOB-NAME             PIC  X(08) VALUE 'EPK332  '.00680008
006900     05  PC-CKPT-PLAN-NAME            PIC  X(08) VALUE 'EPKUP102'.00690004
007000     05  PC-PROGRAM-NAME              PIC  X(08) VALUE 'EPKUP102'.00700004
007100                                                                  00710004
007200     05  PC-TRAN-PRES-FUNC-CODES.                                 00720004
007300         10  PC-TRAN-PRES-FUNC-OPEN   PIC  X(05) VALUE 'OPEN '.   00730004
007400         10  PC-TRAN-PRES-FUNC-TRANS  PIC  X(05) VALUE 'TRANS'.   00740004
007500         10  PC-TRAN-PRES-FUNC-RSTRT  PIC  X(05) VALUE 'RSTRT'.   00750004
007600         10  PC-TRAN-PRES-FUNC-CLOSE  PIC  X(05) VALUE 'CLOSE'.   00760004
007700                                                                  00770004
007800     05  PC-MINUS-ONE                 PIC S9(01) VALUE -1.        00780004
007900     05  PC-SYSTEM                    PIC  X(08) VALUE 'SYSTEM  '.00790004
008000                                                                  00800004
008100******************************************************************00810004
008200*                          VARIABLES                              00820004
008300******************************************************************00830004
008400 01  PROGRAM-VARIABLES.                                           00840004
008500     05  PV-SQL-SUB                   PIC  9(03) VALUE ZERO.      00850004
008600     05  PV-DEADLOCK-COUNTER          PIC  9(03) VALUE ZERO.      00860004
008700     05  PV-PARAGRAPH-NAME            PIC  X(30) VALUE SPACE.     00870004
008800     05  PV-DB2-OPER-ATTEMPTED        PIC  X(30) VALUE SPACE.     00880004
008900     05  PV-OPERATION-MSG             PIC  X(35) VALUE SPACE.     00890004
009000     05  PV-RET-CODE                  PIC  9(04) VALUE ZEROS.     00900004
009100                                                                  00910004
009200******************************************************************00920004
009300*               SYSTEM TIME AND DATE VARIABLES                    00930004
009400******************************************************************00940004
009500 01  SYS-DATE-TIME.                                               00950004
009600     05  SYS-DATE                     PIC  X(08) VALUE SPACES.    00960004
009700     05  SYS-TIME                     PIC  X(08) VALUE SPACES.    00970004
009800                                                                  00980004
009900 01  ST-BEG-TIME.                                                 00990004
010000     05  ST-BEG-HR                    PIC  9(02) VALUE ZEROS.     01000004
010100     05  FILLER                       PIC  X(01) VALUE ':'.       01010004
010200     05  ST-BEG-MN                    PIC  9(02) VALUE ZEROS.     01020004
010300                                                                  01030004
010400 01  ST-END-TIME.                                                 01040004
010500     05  ST-END-HR                    PIC  9(02) VALUE ZEROS.     01050004
010600     05  FILLER                       PIC  X(01) VALUE ':'.       01060004
010700     05  ST-END-MN                    PIC  9(02) VALUE ZEROS.     01070004
010800                                                                  01080004
010900 01  SD-EDIT-DATE.                                                01090004
011000     05  SD-MONTH                     PIC  9(02) VALUE ZEROS.     01100004
011100     05  FILLER                       PIC  X(01) VALUE '-'.       01110004
011200     05  SD-DAY                       PIC  9(02) VALUE ZEROS.     01120004
011300     05  FILLER                       PIC  X(01) VALUE '-'.       01130004
011400     05  SD-CENT                      PIC  9(02) VALUE ZEROS.     01140004
011500     05  SD-YEAR                      PIC  9(02) VALUE ZEROS.     01150004
011600                                                                  01160004
011700******************************************************************01170004
011800*                        ERROR HANDLING                           01180004
011900******************************************************************01190004
012000 01  ABEND-CODE                       PIC S9(04) VALUE ZEROS      01200004
012100                                                 COMP SYNC.       01210004
012200     88  ABEND-4002-READ-ERROR                   VALUE +4002.     01220004
012300     88  ABEND-4013-DB2-ERROR                    VALUE +4013.     01230004
012400     88  ABEND-4019-CAL-SUB-ERROR                VALUE +4019.     01240004
012500                                                                  01250004
012600                                                                  01260004
012700******************************************************************01270005
012800* XST_SKU_ATTR REC LAYOUT                                         01280005
012900******************************************************************01290005
013000     COPY EPRD004.                                                01300005
013100                                                                  01310005
013200******************************************************************01320004
013300*  DB2 FORMATTED ERROR MESSAGE                                    01330004
013400******************************************************************01340004
013500     COPY DPWS004.                                                01350004
013600                                                                  01360004
013700******************************************************************01370004
013800*  SQL COMMUNICATIONS WORK AREA                                   01380004
013900******************************************************************01390004
014000     COPY SQLCA2.                                                 01400004
014100                                                                  01410004
014200******************************************************************01420004
014300*  COMMUNICATIONS AREA FOR DB2                                    01430004
014400******************************************************************01440004
014500     EXEC SQL                                                     01450004
014600         INCLUDE SQLCA                                            01460004
014700     END-EXEC.                                                    01470004
014800                                                                  01480004
014900******************************************************************01490005
015000*  DB2 TABLE XST00011 - SKU ATTRIBUTE TABLE(XST_SKU_ATTR)         01500005
015100******************************************************************01510005
015200     EXEC SQL                                                     01520005
015300          INCLUDE XST00011                                        01530005
015400     END-EXEC.                                                    01540005
015500                                                                  01550005
015600******************************************************************01560004
015700*  TRANSACTION PREPARATION MODULE COMMUNICATIONS AREA             01570004
015800******************************************************************01580004
260107     COPY DPWS991.                                                01590009
015900                                                                  01591009
015900     COPY DPLS001.                                                01592009
016000     05  WORK-STORAGE-PASSED.                                     01600004
016100******************************************************************01610004
016200*PA - PROGRAM ACCUMULATORS                                        01620004
016300******************************************************************01630004
016400         10  PROGRAM-ACCUMULATORS.                                01640004
016500             15  PA-ROWS-UPDATED PIC S9(11)            VALUE ZERO 01650006
016600                                                       COMP-3.    01660004
016700                                                                  01670004
016800 01  FILLER                          PIC X(4096)  VALUE SPACE.    01680004
016900                                                                  01690004
017000                                                                  01700004
017100                                                                  01710004
017200 PROCEDURE DIVISION.                                              01720004
017300******************************************************************01730004
017400* MAINLINE-PROCESSING                                             01740004
017500******************************************************************01750004
017600                                                                  01760004
017700     PERFORM A100-INITIALIZE.                                     01770004
017800                                                                  01780004
017900     PERFORM B100-PROCESS-UPDATE-RECORDS                          01790004
018000       UNTIL DP001-PREP-TRANS-EOF.                                01800004
018100                                                                  01810004
018200     PERFORM Z990-EOJ-ROUTINE.                                    01820004
018300                                                                  01830004
018400     GOBACK.                                                      01840004
018500                                                                  01850004
018600                                                                  01860004
018700******************************************************************01870004
018800* PREFORMS TASK INITIATION                                        01880004
018900******************************************************************01890004
019000 A100-INITIALIZE.                                                 01900004
019100                                                                  01910004
019200     MOVE FUNCTION CURRENT-DATE TO SYS-DATE-TIME.                 01920004
019300                                                                  01930004
019400     MOVE SYS-TIME (1:2) TO ST-BEG-HR.                            01940004
019500     MOVE SYS-TIME (3:2) TO ST-BEG-MN.                            01950004
019600                                                                  01960004
019700     MOVE SYS-DATE (1:2) TO SD-CENT.                              01970004
019800     MOVE SYS-DATE (3:2) TO SD-YEAR.                              01980004
019900     MOVE SYS-DATE (5:2) TO SD-MONTH.                             01990004
020000     MOVE SYS-DATE (7:2) TO SD-DAY.                               02000004
020100                                                                  02010004
020200     MOVE PC-TRAN-PRES-FUNC-OPEN TO DP001-FUNC-CODE.              02020004
020300                                                                  02030004
020400     PERFORM X100-BUILD-COMM-AREA-TRAN-PRES.                      02040004
020500                                                                  02050004
020600                                                                  02060004
020700******************************************************************02070004
020800* PROCESS UPDATE RECORDS                                          02080004
020900******************************************************************02090004
021000 B100-PROCESS-UPDATE-RECORDS.                                     02100004
021100                                                                  02110004
021200     SET PS-RESTART-NOT-REQUIRED TO TRUE.                         02120004
021300                                                                  02130004
021400     PERFORM C100-UPDATE-FIELDS.                                  02140004
021500                                                                  02150004
021600*----------------------------------------------------------------*02160004
021700*  IF A RESTART IS REQUIRED, ISSUE A RESTART CALL RATHER THAN A  *02170004
021800*  TRANS CALL.  THIS WILL ALLOW PROCESSING TO RESUME WITH THE    *02180004
021900*  FIRST TRANSACTION AFTER THE LAST COMMIT.                      *02190004
022000*----------------------------------------------------------------*02200004
022100     IF  PS-RESTART-REQUIRED                                      02210004
022200         MOVE PC-TRAN-PRES-FUNC-RSTRT TO DP001-FUNC-CODE          02220004
022300     ELSE                                                         02230004
022400         MOVE PC-TRAN-PRES-FUNC-TRANS TO DP001-FUNC-CODE          02240004
022500     END-IF.                                                      02250004
022600                                                                  02260004
022700     PERFORM X100-BUILD-COMM-AREA-TRAN-PRES.                      02270004
022800                                                                  02280004
022900     ADD 1 TO PA-READ.                                            02290004
023000                                                                  02300004
023100                                                                  02310004
023200******************************************************************02320004
023300* UPDATES THE SKU_ATTR FIELDS                                     02330005
023400******************************************************************02340004
023500 C100-UPDATE-FIELDS.                                              02350004
023600                                                                  02360004
023700     MOVE EP004-INTR-UPC-ID TO XST00011-INTR-UPC-ID.              02370006
023800                                                                  02380004
023900     PERFORM C200-UPDT-XST-TABLE.                                 02390007
024100                                                                  02410004
024200                                                                  02420004
024300******************************************************************02430004
024400* THIS SECTION WILL INSERT A ROW INTO THE XST TABLE               02440005
024500******************************************************************02450004
024600 C200-UPDT-XST-TABLE.                                             02460007
024700                                                                  02470004
024800     PERFORM WITH TEST AFTER                                      02480004
024900         VARYING PV-SQL-SUB                                       02490004
025000         FROM 1 BY 1                                              02500004
025100         UNTIL (PV-SQL-SUB > PC-MAX-RETRIES                       02510004
025200                OR SQLCODE = -904                                 02520006
025300                OR SQLCODE = -911                                 02530006
025400                OR SQLCODE = -913                                 02540006
025500                OR SQLCODE = 0)                                   02550004
025600                                                                  02560004
025700         EXEC SQL                                                 02570006
025800             UPDATE XST_SKU_ATTR                                  02580006
025900             SET  PLU_DWNLD_EXCL_IND  =  'N'                      02590006
026000                 ,LAST_UPD_TMST       =  CURRENT TIMESTAMP        02600006
026100             WHERE INTR_UPC_ID = :XST00011-INTR-UPC-ID            02610006
026200         END-EXEC                                                 02620006
026300                                                                  02630006
026400         EVALUATE TRUE                                            02640004
026500             WHEN SQLCODE = 0                                     02650004
026600                 ADD +1 TO PA-ROWS-UPDATED                        02660006
026700                                                                  02670004
026800             WHEN SQLCODE = -904                                  02680006
026900             WHEN SQLCODE = -913                                  02690006
027000                  CONTINUE                                        02700006
027100                                                                  02710006
027200             WHEN SQLCODE = -911                                  02720004
027300                 ADD +1 TO PV-DEADLOCK-COUNTER                    02730004
027400                                                                  02740004
027500                 DISPLAY '                   '                    02750004
027600                 DISPLAY 'DEADLOCK INCOUNTERED -911'              02760004
027700                 DISPLAY 'DEADLOCK-COUNTER = ' PV-DEADLOCK-COUNTER02770004
027800                                                                  02780004
027900                 IF PV-DEADLOCK-COUNTER > PC-MAX-DEADLOCKS        02790004
028000                     MOVE 'C200-UPDT-XST-TABLE'                   02800007
028100                                      TO PV-PARAGRAPH-NAME        02810004
028200                     MOVE 'MAXIMUM DEADLOCKS EXCEEDED    '        02820004
028300                                      TO PV-DB2-OPER-ATTEMPTED    02830004
028400                     PERFORM Z200-SQL-ABEND                       02840004
028500                                                                  02850004
028600                 ELSE                                             02860004
028700                     SET PS-RESTART-REQUIRED TO TRUE              02870004
028800                 END-IF                                           02880004
028900                                                                  02890004
029000             WHEN OTHER                                           02900004
029100                 DISPLAY '                   '                    02910004
029200                 DISPLAY 'SQLCODE = ' SQLCODE                     02920004
029300                 DISPLAY 'DP001-FUNC-CODE = ' DP001-FUNC-CODE     02930004
029400                 DISPLAY 'DP001-RET-CODE  = ' DP001-RET-CODE      02940004
029500                 DISPLAY '                   '                    02950004
029600                 DISPLAY 'INSERT ABENDED ON: '                    02960004
029700                 DISPLAY 'INTR-UPC-ID = ' EP004-INTR-UPC-ID       02970007
029800                                                                  02980004
029900                 MOVE 'C200-UPDT-XST-TABLE'                       02990007
030000                                        TO PV-PARAGRAPH-NAME      03000004
030100                 MOVE 'FLASH INSERT'                              03010004
030200                                        TO PV-DB2-OPER-ATTEMPTED  03020004
030300                                                                  03030004
030400                 PERFORM Z200-SQL-ABEND                           03040004
030500         END-EVALUATE                                             03050004
030600     END-PERFORM.                                                 03060004
030700                                                                  03070004
030800                                                                  03080004
030900     IF PV-SQL-SUB > PC-MAX-RETRIES                               03090004
031000         MOVE 'C200-UPDT-XST-TABLE'     TO PV-PARAGRAPH-NAME      03100007
031100         MOVE 'VERIFY RETRIES EXCEEDED' TO PV-DB2-OPER-ATTEMPTED  03110004
031200         PERFORM Z200-SQL-ABEND                                   03120004
031300     END-IF.                                                      03130004
031400                                                                  03140004
031500                                                                  03150004
031600******************************************************************03160004
031700* BUILD THE COMMUNICATION AREA FOR A CALL TO THE TRANSACTION      03170004
031800* PRESENTATION MODULE                                             03180004
031900******************************************************************03190004
032000 X100-BUILD-COMM-AREA-TRAN-PRES.                                  03200004
032100                                                                  03210004
032200     MOVE LENGTH OF                                               03220004
032300          WORK-STORAGE-PASSED TO DP001-WORK-STRG-LENGTH.          03230004
032400     MOVE PC-CKPT-JOB-NAME    TO DP001-JOB-NAME.                  03240004
032500     MOVE PC-CKPT-PLAN-NAME   TO DP001-PLAN-NAME.                 03250004
032600                                                                  03260004
032700     PERFORM X200-CALL-TRANS-PRES-MODULE.                         03270004
032800                                                                  03280004
032900     MOVE DP001-TRANS-RECORD  TO EP004-XST-REC.                   03290006
033000                                                                  03300004
033100     IF  DP001-CKPT-TAKEN                                         03310004
033200         ADD 1 TO PA-CKPT                                         03320004
033300                                                                  03330004
033400         INITIALIZE PV-DEADLOCK-COUNTER                           03340004
033500     END-IF.                                                      03350004
033600                                                                  03360004
033700                                                                  03370004
033800******************************************************************03380004
033900* VERIFY THE RETURN CODE ON THE CALLED MODULE                     03390004
034000******************************************************************03400004
034100 X200-CALL-TRANS-PRES-MODULE.                                     03410004
034200                                                                  03420004
034300     PERFORM Z900-CALL-TRANS-PRES-MODULE.                         03430004
034400                                                                  03440004
034500     IF  DP001-GOOD-RET-CODE                                      03450004
034600     OR  DP001-CKPT-TAKEN                                         03460004
034700     OR  DP001-RESTART                                            03470004
034800         CONTINUE                                                 03480004
034900                                                                  03490004
035000     ELSE                                                         03500004
035100         MOVE 'X200-CALL-TRANS-PRES-MODULE' TO PV-PARAGRAPH-NAME  03510004
035200         MOVE '** BAD CALL TO TRANS PREP MODULE **'               03520004
035300                                            TO PV-OPERATION-MSG   03530004
035400         MOVE DP001-RET-CODE                TO PV-RET-CODE        03540004
035500                                                                  03550004
035600         SET ABEND-4019-CAL-SUB-ERROR TO TRUE                     03560004
035700                                                                  03570004
035800         PERFORM Z100-ABEND                                       03580004
035900     END-IF.                                                      03590004
036000                                                                  03600004
036100                                                                  03610004
036200******************************************************************03620004
036300* NON-DB2 ABEND                                                   03630004
036400******************************************************************03640004
036500 Z100-ABEND.                                                      03650004
036600                                                                  03660004
036700     PERFORM Z999-CONTROLS.                                       03670004
036800                                                                  03680004
036900     DISPLAY '                     '.                             03690004
037000     DISPLAY '** ABEND           **'.                             03700004
037100     DISPLAY '** PROGRAM         ** = ' PC-PROGRAM-NAME.          03710004
037200     DISPLAY '** PARAGRAPH       ** = ' PV-PARAGRAPH-NAME.        03720004
037300     DISPLAY '** OPERATION       ** = ' PV-OPERATION-MSG.         03730004
037400     DISPLAY '** RETURN CODE     ** = ' PV-RET-CODE.              03740004
037500                                                                  03750004
037600     CALL 'ILBOABN0' USING ABEND-CODE.                            03760004
037700                                                                  03770004
037800                                                                  03780004
037900******************************************************************03790004
038000* ABEND THE PROGRAM IN THE EVENT THAT A SQL ERROR OR WARNING      03800004
038100* CODE OCCURS.                                                    03810004
038200******************************************************************03820004
038300 Z200-SQL-ABEND.                                                  03830004
038400                                                                  03840004
038500     PERFORM Z999-CONTROLS.                                       03850004
038600                                                                  03860004
038700     DISPLAY '** ABEND     **'.                                   03870004
038800     DISPLAY '** PROGRAM   ** = ' PC-PROGRAM-NAME.                03880004
038900     DISPLAY '** PARAGRAPH ** = ' PV-PARAGRAPH-NAME.              03890004
039000     DISPLAY '** OPERATION ** = ' PV-DB2-OPER-ATTEMPTED.          03900004
039100                                                                  03910004
039200******************************************************************03920004
039300* THIS COPY BOOK MEMBER CONTAINS THE PROCEDURE DIVISION STATE-    03930004
039400* MENTS THAT ARE REQUIRED TO UTILIZE THE DB2 ABEND MODULE         03940004
039500* 'DSNTIAR' AND CONVERT THE SQLCA INFORMATION INTO A READABLE     03950004
039600* FORMAT.                                                         03960004
039700******************************************************************03970004
039800     COPY DPPD004.                                                03980004
039900                                                                  03990004
040000     SET ABEND-4013-DB2-ERROR TO TRUE.                            04000004
040100                                                                  04010004
040200     CALL 'ILBOABN0' USING ABEND-CODE.                            04020004
040300                                                                  04030004
040400                                                                  04040004
040500******************************************************************04050004
040600* PREFORMS TASK TERMINATION PROCESSING                            04060004
040700******************************************************************04070004
040800 Z990-EOJ-ROUTINE.                                                04080004
040900                                                                  04090004
041000     MOVE PC-TRAN-PRES-FUNC-CLOSE TO DP001-FUNC-CODE.             04100004
041100                                                                  04110004
041200     PERFORM X100-BUILD-COMM-AREA-TRAN-PRES.                      04120004
041300                                                                  04130004
041400     PERFORM Z999-CONTROLS.                                       04140004
041500                                                                  04150004
041600                                                                  04160004
041700******************************************************************04170004
041800* DISPLAY CONTROLS FROM THE PROGRAM                               04180004
041900******************************************************************04190004
042000 Z999-CONTROLS.                                                   04200004
042100                                                                  04210004
042200     MOVE FUNCTION CURRENT-DATE TO SYS-DATE-TIME.                 04220004
042300                                                                  04230004
042400     MOVE SYS-TIME (1:2) TO ST-END-HR.                            04240004
042500     MOVE SYS-TIME (3:2) TO ST-END-MN.                            04250004
042600                                                                  04260004
042700     DISPLAY '                    '.                              04270004
042800     DISPLAY '**********************'.                            04280004
042900     DISPLAY '   EPKUP102 CONTROLS  '.                            04290004
043000     DISPLAY '**********************'.                            04300004
043100     DISPLAY 'RUN DATE  = ' SD-EDIT-DATE.                         04310004
043200     DISPLAY 'BEG TIME  = ' ST-BEG-TIME.                          04320004
043300     DISPLAY 'END TIME  = ' ST-END-TIME.                          04330004
043400     DISPLAY '======================'.                            04340004
043500     DISPLAY 'RECORDS READ = ' PA-READ.                           04350006
043600     DISPLAY 'CHECKPOINTS  = ' PA-CKPT.                           04360006
043700     DISPLAY '               '.                                   04370006
043800     DISPLAY 'ROWS UPDATED = ' PA-ROWS-UPDATED.                   04380006
043900     DISPLAY '               '.                                   04390006
044000                                                                  04400004
044100                                                                  04410004
044200******************************************************************04420004
044300* THIS COPY BOOK MEMBER CONTAINS THE PROCEDURE DIVISION STATE-    04430004
044400* MENTS THAT ARE REQUIRED TO INVOKE THE TRANSACTION PRESENTATION  04440004
044500* MODULE (DPKUT901) OF THE DB2 CHECKPOINT RESTART SYSTEM.         04450004
044600******************************************************************04460004
044700     COPY DPPD001.                                                04470004
044800                                                                  04480004
044900                                                                  04490004
