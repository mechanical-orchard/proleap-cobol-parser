      ******************************************************************00010000
      * COPYBOOK POWS055                                               *00020007
      ******************************************************************00030007
                                                                        00040007
      ******************************************************************00050007
      * THIS COPYBOOK MUST BE USED WITH POPD055. THE PURPOSE OF THIS   *00060007
      * COPYBOOK IS TO DEFINE FIELDS USED IN POPD055, BOTH AS INPUT    *00070007
      * AND AS OUTPUT.                                                 *00080001
      ******************************************************************00090000
                                                                        00100002
      ***************************************************************** 00110002
      * DB2 TABLE DCLGENS NEEDED FOR THIS PROGRAM.                      00120002
      ***************************************************************** 00130002
                                                                        00140002
      *---------------------------------------------------------------* 00150002
      * DB2 DCLGEN FOR THE PO DATES LEADTIME TABLE (TPOLDTM)          * 00160002
      *---------------------------------------------------------------* 00170002
                                                                        00180011
           EXEC SQL                                                     00190014
              INCLUDE TPOLDTM                                           00200014
           END-EXEC.                                                    00210014
                                                                        00220011
      *---------------------------------------------------------------* 00230002
      * DB2 DCLGEN FOR THE MERCHANDISE LEDGER DATE TABLE (TDTATTR)    * 00240002
      *---------------------------------------------------------------* 00250002
                                                                        00260002
           EXEC SQL                                                     00270002
              INCLUDE TDTATTR                                           00280012
           END-EXEC.                                                    00290002
                                                                        00300002
       01  POWS055-PROGRAM-CONSTANTS.                                   00310006
           05  POWS055-RETRY-COUNTER       PIC S9(04) VALUE +0          00320006
                                                      COMP SYNC.        00330004
           05  POWS055-MAX-RETRIES         PIC S9(03) VALUE +4          00340007
                                                      COMP SYNC.        00350004
      *---------------------------------------------------------------* 00360016
      * POWS055-INPUT-DATE: THE DATE PASSED FROM THE CALLING PROGRAM  * 00370016
      *     THAT THE OTB DATE WILL BE BASED ON (SHIP DATE)            * 00380016
      *                                                               * 00390016
      * POWS055-CALCED-OTB-DATE: THE CALCED OTB DATE BY ADDING        * 00400016
      *     POLDTM-SHIPT-WND-DAY-QTY TO THE INPUT-DATE                * 00410016
      *                                                               * 00420016
      * POWS055-OTB-YEAR: THE YEAR THAT POWS055-CALCED-OTB-DATE IS IN,* 00430022
      *     BASED ON A FISCAL MONTH.                                  * 00440022
      *                                                               * 00450016
      * POWS055-OTB-MONTH: THE CALENDAR MONTH THAT                    * 00460022
      *     POWS055-CALCED-OTB-DATE IS IN, BASED ON FISCAL CALENDAR.  * 00470016
      *    (I.E. 11/01/2001 IS IN MONTH 10 AND 11/04/2001 IS IN MONTH * 00480016
      *     11).                                                      * 00490016
      *                                                               * 00500016
      * POWS055-OTB-FSCL-WEEK-NBR: THE FISCAL WEEK OF THE MONTH THAT  * 00510016
      *     POWS055-CALCED-OTB-DATE IS IN.                            * 00520016
      *                                                               * 00530016
      * POWS055-OTB-FSCL-WK-BEG-DTE: THE FIRST DAY OF THE FISCAL WEEK * 00540016
      *     THAT POWS055-CALCED-OTB-DATE IS IN.                       * 00550016
      *                                                               * 00560016
      *---------------------------------------------------------------* 00570016
                                                                        00580016
       01  POWS055-WORK-FIELDS.                                         00590016
           05  POWS055-INPUT-DATE          PIC X(10)  VALUE SPACE.      00600006
           05  POWS055-INPUT-DATE-REDEF REDEFINES                       00610018
               POWS055-INPUT-DATE.                                      00620018
               10  POWS055-INPUT-CCYY.                                  00630018
                   15  POWS055-INPUT-CC    PIC X(02).                   00640018
                   15  POWS055-INPUT-YY    PIC X(02).                   00650018
               10  FILLER                  PIC X(01).                   00660018
               10  POWS055-INPUT-MM        PIC X(02).                   00670018
               10  FILLER                  PIC X(01).                   00680018
               10  POWS055-INPUT-DD        PIC X(02).                   00690018
                                                                        00700005
           05  POWS055-CALCED-OTB-DATE     PIC X(10)  VALUE SPACE.      00710006
                                                                        00720005
           05  POWS055-CALCED-OTB-DATE-REDEF REDEFINES                  00730006
               POWS055-CALCED-OTB-DATE.                                 00740006
               10  POWS055-CALCED-OTB-CCYY.                             00750006
                   15  POWS055-CALCED-OTB-CC                            00760006
                                           PIC X(02).                   00770005
                   15  POWS055-CALCED-OTB-YY                            00780006
                                           PIC X(02).                   00790005
               10  FILLER                  PIC X(01).                   00800005
               10  POWS055-CALCED-OTB-MM   PIC X(02).                   00810009
               10  FILLER                  PIC X(01).                   00820005
               10  POWS055-CALCED-OTB-DD   PIC X(02).                   00830009
                                                                        00840005
           05  POWS055-OTB-YEAR            PIC X(04)  VALUE SPACE.      00850019
           05  POWS055-OTB-YEAR-REDEF REDEFINES                         00860019
               POWS055-OTB-YEAR.                                        00870019
               10  POWS055-OTB-CC          PIC X(02).                   00880021
               10  POWS055-OTB-YY          PIC X(02).                   00890021
           05  POWS055-OTB-YEAR-NBR   REDEFINES                         00900021
               POWS055-OTB-YEAR            PIC 9(04).                   00910021
                                                                        00920005
           05  POWS055-OTB-MONTH           PIC X(02)  VALUE SPACE.      00930019
                                                                        00940005
           05  POWS055-OTB-FSCL-WEEK-NBR   PIC X(01)  VALUE SPACE.      00950008
                                                                        00960005
           05  POWS055-OTB-FSCL-WK-BEG-DTE PIC X(10)  VALUE SPACES.     00970017
           05  POWS055-OTB-FSCL-WK-BEG-DTE-RD REDEFINES                 00980017
               POWS055-OTB-FSCL-WK-BEG-DTE.                             00990017
               10  POWS055-OTB-FSCL-WK-BEG-CCYY.                        01000017
                   15  POWS055-OTB-FSCL-WK-BEG-CC                       01010017
                                           PIC X(02).                   01020017
                   15  POWS055-OTB-FSCL-WK-BEG-YY                       01030017
                                           PIC X(02).                   01040017
               10  FILLER                  PIC X(01).                   01050017
               10  POWS055-OTB-FSCL-WK-BEG-MM                           01060017
                                           PIC X(02).                   01070017
               10  FILLER                  PIC X(01).                   01080017
               10  POWS055-OTB-FSCL-WK-BEG-DD                           01090017
                                           PIC X(02).                   01100017
                                                                        01110017
                                                                        01120005
           05  POWS055-ERROR-AREA.                                      01130006
                                                                        01140005
               10  POWS055-ERROR-TYPE      PIC X(08)  VALUE SPACES.     01150007
                   88  POWS055-NO-ERROR               VALUE 'NO ERROR'. 01160007
                   88  POWS055-INVALID-INPUT-DATE     VALUE 'BAD DATE'. 01170007
                   88  POWS055-BAD-SELECT-TO-TPOLDTM  VALUE 'TPOLDTM '. 01180007
                   88  POWS055-BAD-SELECT-TO-TDTATTR  VALUE 'TDTATTR '. 01190007
               10  POWS055-SQLCODE         PIC S9(09) COMP-3.           01200007
                                                                        01210002
