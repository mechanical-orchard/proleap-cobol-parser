000100* * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * 00010099
000200*  PCWS050                                                        00020099
000300*                                                                 00030099
000400*  THIS IS THE WORKING-STORAGE AREA CONTAINING THE CURSORS NEEDED 00040099
000500*  BY THE PROCEDURE DIVISION MODULE THAT GET THE TRAILER COUNT OR 00050099
000600*  ACTUAL CONTAINERS ON A TRAILER.                                00060099
000700*  PROGRAM MUST ALSO INCLUDE THE FOLLOWING:                       00070099
000800*       PCWS049 (WORK FIELDS) (WORKING STORAGE)                   00080099
000900*       PCPD049 (PROCEDURE DIVISION)                              00090099
001000*                                                                 00100099
001100*  THE FOLLOWING DCLGENS MUST ALSO BE INCLUDED IN THE PROGRAM:    00110099
001200*       SUT_OTBND_LOC (SHIPPING UNIT LOCATION TABLE)              00120099
001300*       SUT_OTBND_CART (OUTBOUND CARTON TABLE)                    00130099
001400*       TSUCDOT (CARTON DIVERT/OUTBOUND TRIP ASSOCIATION TABLE)   00140099
001500*       TSUOBTR (OUTBOUND TRAILER TRIP TABLE)                     00150099
001600*       TSUOBTS (OUTBOUND TRAILER TRIP STATUS TABLE)              00160099
001700*       TSUOBSC (OUTBOUND TRAILER TRIP STATUS CODE DEFINITION)    00170099
001800*       TSUCRDV (CARTON DIVERT FROM CONVEYOR SYSTEM TABLE)        00180099
001900*       TCNDRST (DC DOOR TO STORE ASSOCIATION TABLE)              00190099
002000*       TCNDCDR (DC DOOR TABLE)                                   00200099
002100*                                                                 00210099
002200* * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * 00220099
002300* THIS CURSOR WILL BRING BACK ONLY THE ACTIVE CARTONS CURRENTLY   00230099
002400* MANUALLY SCANNED ONTO A GIVEN OUTBOUND TRIP                     00240099
002500* PC049-DK-OTBND-TRIP-ID MUST BE FILLED IN BY PROGRAM.            00250099
002600* * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * 00260099
002700                                                                  00270099
002800     EXEC SQL                                                     00280099
002900          DECLARE SCAN-ON-CRTN-CSR CURSOR FOR                     00290099
003000           SELECT  SHIPT_UNT_ID                                   00300099
003100                 , LOC_NBR                                        00310099
003200                 , SCN_CDE                                        00320099
003300                 , CRE_USR_ID                                     00330099
003400                 , CRE_TMST                                       00340099
003500                 , OTBND_TRIP_ID                                  00350099
003600*                , PRTR_TYP_CDE                                   00360099
003700*                , LBL_PRT_BTCH_ID                                00370099
003800                 , ACTV_CDE                                       00380099
003900             FROM  SUT_OTBND_LOC                                  00390099
004000            WHERE  OTBND_TRIP_ID    = :PC049-DK-OTBND-TRIP-ID     00400099
004100              AND  SCN_CDE = 'SHON'                               00410099
004200              AND  ACTV_CDE   = 'A'                               00420099
004300     END-EXEC.                                                    00430099
004400                                                                  00440099
004500* * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * 00450099
004600*    --- FOR SHUTTLE OR STORAGE TRAILER ONLY ---                  00460099
004700* THIS CURSOR WILL BRING BACK ONLY THE ACTIVE CARTONS DIVERTED    00470099
004800* AND LOADED ON A TRAILER BETWEEN ANY GIVEN BEGINNING AND         00480099
004900* ENDING POINT.  THE BEGIN AND END TMST ARE BASED ON THE TIME     00490099
005000* THAT THE BEG & END CARTONS (TSUCDOT) WERE DIVERTED.             00500099
005100* * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * 00510099
005200                                                                  00520099
005300     EXEC SQL                                                     00530099
005400          DECLARE SHTL-DVRT-CRTN-CSR CURSOR FOR                   00540099
005500           SELECT  'A'                                            00550099
005600                 , A.OPER_UNT_ID                                  00560099
005700                 , A.DIVERT_NBR                                   00570099
005800                 , A.DIVERT_LOC_ID                                00580099
005900                 , A.DIVERT_TMST                                  00590099
006000                 , A.BRCDE_NBR                                    00600099
006100                 , A.PRC_RSN_CDE                                  00610099
006200                 , A.SHIPT_UNT_ID                                 00620099
006300                 , A.ACTV_CDE                                     00630099
006400                 , A.NACTV_USR_ID                                 00640099
006500                 , A.DOOR_ID                                      00650099
006600                 , B.OTBND_TRIP_ID                                00660099
006700                 , B.STRT_SCN_TMST                                00670099
006800                 , B.STRT_DIVERT_TMST                             00680099
006900                 , B.STRT_SCN_USR_ID                              00690099
007000                 , B.END_SCN_TMST                                 00700099
007100                 , B.END_DIVERT_TMST                              00710099
007200                 , B.END_SCN_USR_ID                               00720099
007300                 , B.DOOR_ID                                      00730099
007400                 , A.DEST_OPER_UNT_ID                             00740099
007500              ,CASE                                               00750099
007600                  WHEN A.DIVERT_TMST = B.STRT_DIVERT_TMST         00760099
007700                      THEN 'S'                                    00770099
007800                  WHEN A.DIVERT_TMST = B.END_DIVERT_TMST          00780099
007900                      THEN 'E'                                    00790099
008000                  ELSE 'N'                                        00800099
008100               END                                                00810099
008200             FROM  TSUCRDV A                                      00820099
008300                 , TSUCDOT B                                      00830099
008400            WHERE  A.DIVERT_TMST   >=  :PC049-DK-START-TMST       00840099
008500              AND  A.DIVERT_TMST   <=  :PC049-DK-END-TMST         00850099
008600              AND  A.OPER_UNT_ID    =  :PC049-DK-OPER-UNT-ID      00860099
008700              AND  A.ACTV_CDE       =  'A'                        00870099
008800              AND  A.OPER_UNT_ID    =   B.OPER_UNT_ID             00880099
008900              AND  B.OTBND_TRIP_ID  =  :PC049-DK-OTBND-TRIP-ID    00890099
009000              AND  A.DIVERT_TMST   >=   B.STRT_DIVERT_TMST        00900099
009100              AND  A.DIVERT_TMST   <=   B.END_DIVERT_TMST         00910099
009200              AND  A.DOOR_ID        =   B.DOOR_ID                 00920099
009300              AND  A.DIVERT_TMST      =                           00930099
009400                     (SELECT MAX(C.DIVERT_TMST)                   00940099
009500                 FROM  TSUCRDV C                                  00950099
009600                 WHERE A.SHIPT_UNT_ID = C.SHIPT_UNT_ID)           00960099
009700     END-EXEC.                                                    00970099
009800                                                                  00980099
009900                                                                  00990099
010000* * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * 01000099
010100*    --- FOR SHIPPING TRAILER ONLY ---                            01010099
010200* THIS CURSOR WILL BRING BACK ONLY THE ACTIVE CARTONS DIVERTED    01020099
010300* AND LOADED ON A TRAILER BETWEEN ANY GIVEN BEGINNING AND         01030099
010400* ENDING POINT.  THE BEGIN AND END TMST ARE BASED ON THE TIME     01040099
010500* THAT THE BEG & END CARTONS (TSUCDOT) WERE DIVERTED.             01050099
010600* * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * 01060099
010700                                                                  01070099
010800     EXEC SQL                                                     01080099
010900          DECLARE SHIP-DVRT-CRTN-CSR CURSOR FOR                   01090099
011000           SELECT  'A'                                            01100099
011100                 , A.OPER_UNT_ID                                  01110099
011200                 , A.DIVERT_NBR                                   01120099
011300                 , A.DIVERT_LOC_ID                                01130099
011400                 , A.DIVERT_TMST                                  01140099
011500                 , A.BRCDE_NBR                                    01150099
011600                 , A.PRC_RSN_CDE                                  01160099
011700                 , A.SHIPT_UNT_ID                                 01170099
011800                 , A.ACTV_CDE                                     01180099
011900                 , A.NACTV_USR_ID                                 01190099
012000                 , A.DOOR_ID                                      01200099
012100                 , B.OTBND_TRIP_ID                                01210099
012200                 , B.STRT_SCN_TMST                                01220099
012300                 , B.STRT_DIVERT_TMST                             01230099
012400                 , B.STRT_SCN_USR_ID                              01240099
012500                 , B.END_SCN_TMST                                 01250099
012600                 , B.END_DIVERT_TMST                              01260099
012700                 , B.END_SCN_USR_ID                               01270099
012800                 , B.DOOR_ID                                      01280099
012900                 , A.DEST_OPER_UNT_ID                             01290099
013000              ,CASE                                               01300099
013100                  WHEN A.DIVERT_TMST = B.STRT_DIVERT_TMST         01310099
013200                      THEN 'S'                                    01320099
013300                  WHEN A.DIVERT_TMST = B.END_DIVERT_TMST          01330099
013400                      THEN 'E'                                    01340099
013500                  ELSE 'N'                                        01350099
013600               END                                                01360099
013700             FROM  TSUCRDV A                                      01370099
013800                 , TSUCDOT B                                      01380099
013900            WHERE  A.DIVERT_TMST   >=  :PC049-DK-START-TMST       01390099
014000              AND  A.DIVERT_TMST   <=  :PC049-DK-END-TMST         01400099
014100              AND  A.OPER_UNT_ID    =  :PC049-DK-OPER-UNT-ID      01410099
014200              AND  A.ACTV_CDE       =  'A'                        01420099
014300              AND  A.OPER_UNT_ID    =   B.OPER_UNT_ID             01430099
014400              AND  B.OTBND_TRIP_ID  =  :PC049-DK-OTBND-TRIP-ID    01440099
014500              AND  A.DIVERT_TMST   >=   B.STRT_DIVERT_TMST        01450099
014600              AND  A.DIVERT_TMST   <=   B.END_DIVERT_TMST         01460099
014700              AND  A.DOOR_ID        =   B.DOOR_ID                 01470099
014800              AND  NOT A.DEST_OPER_UNT_ID                         01480099
014900                                   IN (:PC049-PV-STORE-01         01490099
015000                                      ,:PC049-PV-STORE-02         01500099
015100                                      ,:PC049-PV-STORE-03         01510099
015200                                      ,:PC049-PV-STORE-04)        01520099
015300              AND  A.DIVERT_TMST      =                           01530099
015400                     (SELECT MAX(C.DIVERT_TMST)                   01540099
015500                 FROM  TSUCRDV C                                  01550099
015600                 WHERE A.SHIPT_UNT_ID = C.SHIPT_UNT_ID)           01560099
015700     END-EXEC.                                                    01570099
015800*                                                                 01580099
015900                                                                  01590099
016000* * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * 01600099
016100* THIS CURSOR WILL BRING BACK ALL OF THE STORES CURRENTLY         01610099
016200* ASSIGNED TO THE DOOR THAT ARE NOT THE SAME AS THE TRAILER       01620099
016300* DESTINATION.                                                    01630099
016400                                                                  01640099
016500     EXEC SQL                                                     01650099
016600          DECLARE DOOR-STR-CSR CURSOR FOR                         01660099
016700           SELECT OPER_UNT_ID                                     01670099
016800                , DOOR_ID                                         01680099
016900                , STR_NBR                                         01690099
017000                , STRT_TMST                                       01700099
017100                , END_TMST                                        01710099
017200                , CRE_USR_ID                                      01720099
017300             FROM TCNDRST                                         01730099
017400            WHERE OPER_UNT_ID  =  :PC049-DK-OPER-UNT-ID           01740099
017500              AND DOOR_ID      =  :PC049-DK-DOOR-ID               01750099
017600              AND NOT STR_NBR  =  :PC049-DK-TRLR-DEST             01760099
017700              AND END_TMST     =  :PC049-PC-DEFAULT-TMST          01770099
017800     END-EXEC.                                                    01780099
017900*                                                                 01790099
018000                                                                  01800099
018100* * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * 01810099
018200*                                                                 01820099
018300* THIS CURSOR WILL BRING BACK ALL OF THE STORES CURRENTLY         01830099
018400* ASSIGNED TO THE DOOR.                                           01840099
018500                                                                  01850099
018600     EXEC SQL                                                     01860099
018700          DECLARE ALL-DOOR-STR-CSR CURSOR FOR                     01870099
018800           SELECT OPER_UNT_ID                                     01880099
018900                , DOOR_ID                                         01890099
019000                , STR_NBR                                         01900099
019100                , STRT_TMST                                       01910099
019200                , END_TMST                                        01920099
019300                , CRE_USR_ID                                      01930099
019400             FROM TCNDRST                                         01940099
019500            WHERE OPER_UNT_ID  =  :PC049-DK-OPER-UNT-ID           01950099
019600              AND DOOR_ID      =  :PC049-DK-DOOR-ID               01960099
019700              AND END_TMST     =  :PC049-PC-DEFAULT-TMST          01970099
019800     END-EXEC.                                                    01980099
019900*                                                                 01990099
020000                                                                  02000099
020100* * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * 02010099
020200*                                                                 02020099
020300* THIS CURSOR WILL BRING BACK ALL OF THE ACTIVE CARTONS CURRENTLY 02030099
020400* ATTACHED TO AN OUTBOUND TRAILER. *** SHIPPING TRAILER ***       02040099
020500* USE WHEN HAVE A STARTING AND ENDING POINT                       02050099
020600                                                                  02060099
020700     EXEC SQL                                                     02070099
020800          DECLARE SHP-ACTV-CRTN-CSR CURSOR FOR                    02080099
020900           SELECT  'A'                                            02090099
021000                 , A.SHIPT_UNT_ID                                 02100099
021100                 , A.OPER_UNT_ID                                  02110099
021200                 , A.DOOR_ID                                      02120099
021300                 , A.DIVERT_TMST                                  02130099
021400                 , B.STRT_SCN_USR_ID                              02140099
021500                 , B.OTBND_TRIP_ID                                02150099
021600                 , A.ACTV_CDE                                     02160099
021700                 , A.PRC_RSN_CDE                                  02170099
021800                 , A.NACTV_USR_ID                                 02180099
021900                 , B.END_SCN_USR_ID                               02190099
022000                 , B.STRT_SCN_TMST                                02200099
022100                 , B.END_SCN_TMST                                 02210099
022200              ,CASE                                               02220099
022300                  WHEN A.DIVERT_TMST = B.STRT_DIVERT_TMST         02230099
022400                      THEN 'S'                                    02240099
022500                  WHEN A.DIVERT_TMST = B.END_DIVERT_TMST          02250099
022600                      THEN 'E'                                    02260099
022700                  ELSE 'N'                                        02270099
022800               END                                                02280099
022900             FROM  TSUCRDV A                                      02290099
023000                 , TSUCDOT B                                      02300099
023100            WHERE  A.DIVERT_TMST   >=  :PC049-DK-START-TMST       02310099
023200              AND  A.DIVERT_TMST   <=  :PC049-DK-END-TMST         02320099
023300              AND  A.OPER_UNT_ID    =  :PC049-DK-OPER-UNT-ID      02330099
023400              AND  A.ACTV_CDE       =  'A'                        02340099
023500              AND  A.OPER_UNT_ID    =   B.OPER_UNT_ID             02350099
023600              AND  B.OTBND_TRIP_ID  =  :PC049-DK-OTBND-TRIP-ID    02360099
023700              AND  A.DIVERT_TMST   >=   B.STRT_DIVERT_TMST        02370099
023800              AND  A.DIVERT_TMST   <=   B.END_DIVERT_TMST         02380099
023900              AND  A.DOOR_ID        =   B.DOOR_ID                 02390099
023901*DMH 9/17/11                                                      02390199
023910              AND  A.DEST_OPER_UNT_ID                             02391099
023920                                    =  :PC049-DK-TRLR-DEST        02392099
024000*DMH 9/17/11  AND  NOT A.DEST_OPER_UNT_ID                         02400099
024100*DMH 9/17/11                       IN (:PC049-PV-STORE-01         02410099
024200*DMH 9/17/11                          ,:PC049-PV-STORE-02         02420099
024300*DMH 9/17/11                          ,:PC049-PV-STORE-03         02430099
024400*DMH 9/17/11                          ,:PC049-PV-STORE-04)        02440099
024500              AND  A.DIVERT_TMST      =                           02450099
024600                     (SELECT MAX(C.DIVERT_TMST)                   02460099
024700                 FROM  TSUCRDV C                                  02470099
024800                 WHERE A.SHIPT_UNT_ID = C.SHIPT_UNT_ID)           02480099
024900           UNION                                                  02490099
025000           SELECT  'B'                                            02500099
025100                 , A.SHIPT_UNT_ID                                 02510099
025200                 , A.LOC_NBR                                      02520099
025300                 , A.SCN_CDE                                      02530099
025400                 , A.CRE_TMST                                     02540099
025500                 , A.CRE_USR_ID                                   02550099
025600                 , A.OTBND_TRIP_ID                                02560099
025700                 , A.ACTV_CDE                                     02570099
025800                 , '        '                                     02580099
025900                 , '        '                                     02590099
026000                 , '        '                                     02600099
026100                                                                  02610099
026200                 ,  TIMESTAMP                                     02620099
026300                   (  CHAR(B.CRE_DTE)                             02630099
026400                     ||                                           02640099
026500                    '-'                                           02650099
026600                     || CHAR(B.CRE_TM)                            02660099
026700                     || '.000000'                                 02670099
026800                    )                                             02680099
026900                                                                  02690099
027000                 , A.CRE_TMST                                     02700099
027100                 , ' '                                            02710099
027200             FROM  SUT_OTBND_LOC A                                02720099
027300                 , SUT_OTBND_CART B                               02730099
027400            WHERE  A.OTBND_TRIP_ID  =  :PC049-DK-OTBND-TRIP-ID    02740099
027500              AND  A.SCN_CDE        =  'SHON'                     02750099
027600              AND  A.ACTV_CDE       =  'A'                        02760099
027700              AND  B.ACTV_IND       =  'Y'                        02770099
027800              AND  A.SHIPT_UNT_ID   =   B.SHIPT_UNT_ID            02780099
027810*DMH 9/17/11                                                      02781099
027820              AND  B.DEST_LOC_NBR                                 02782099
027830                                    =  :PC049-DK-TRLR-DEST        02783099
027900*DMH 9/17/11  AND  NOT B.DEST_LOC_NBR                             02790099
028000*DMH 9/17/11                       IN (:PC049-PV-STORE-01         02800099
028100*DMH 9/17/11                          ,:PC049-PV-STORE-02         02810099
028200*DMH 9/17/11                          ,:PC049-PV-STORE-03         02820099
028300*DMH 9/17/11                          ,:PC049-PV-STORE-04)        02830099
028400           UNION                                                  02840099
028500           SELECT  'C'                                            02850099
028600                 , A.SHIPT_UNT_ID                                 02860099
028700                 , A.LOC_NBR                                      02870099
028800                 , A.SCN_CDE                                      02880099
028900                 , A.CRE_TMST                                     02890099
029000                 , A.CRE_USR_ID                                   02900099
029100                 , A.OTBND_TRIP_ID                                02910099
029200                 , A.ACTV_CDE                                     02920099
029300                 , '        '                                     02930099
029400                 , '        '                                     02940099
029500                 , '        '                                     02950099
029600                                                                  02960099
029700                 ,  TIMESTAMP                                     02970099
029800                   (  CHAR(B.CRE_DTE)                             02980099
029900                     ||                                           02990099
030000                    '-'                                           03000099
030100                     || CHAR(B.CRE_TM)                            03010099
030200                     || '.000000'                                 03020099
030300                    )                                             03030099
030400                                                                  03040099
030500                 , A.CRE_TMST                                     03050099
030600                 , ' '                                            03060099
030700             FROM  SUT_OTBND_LOC A                                03070099
030800                 , SUT_OTBND_CART B                               03080099
030900            WHERE  A.OTBND_TRIP_ID  =  :PC049-DK-OTBND-TRIP-ID    03090099
031000              AND  A.SCN_CDE        =  'SHOF'                     03100099
031100              AND  A.ACTV_CDE       =  'I'                        03110099
031200              AND  B.ACTV_IND       =  'N'                        03120099
031300              AND  A.SHIPT_UNT_ID   =   B.SHIPT_UNT_ID            03130099
031400              AND  A.CRE_TMST      >=  :PC049-DK-START-TMST       03140099
031410*DMH 9/17/11                                                      03141099
031420              AND  B.DEST_LOC_NBR                                 03142099
031430                                    =  :PC049-DK-TRLR-DEST        03143099
031500*DMH 9/17/11  AND  NOT B.DEST_LOC_NBR                             03150099
031600*DMH 9/17/11                       IN (:PC049-PV-STORE-01         03160099
031700*DMH 9/17/11                          ,:PC049-PV-STORE-02         03170099
031800*DMH 9/17/11                          ,:PC049-PV-STORE-03         03180099
031900*DMH 9/17/11                          ,:PC049-PV-STORE-04)        03190099
032000           ORDER BY 5                                             03200099
032100     END-EXEC.                                                    03210099
032200*                                                                 03220099
032300                                                                  03230099
032400* * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * 03240099
032500*                                                                 03250099
032600* THIS CURSOR WILL BRING BACK ALL OF THE CARTONS FOR AN OUTBOUND  03260099
032700* TRAILER - THIS INCLUDES INACTIVE AND SCANNED OFF CARTONS        03270099
032800* USE WHEN HAVE A STARTING AND ENDING POINT                       03280099
032900* *** SHIPPING TRAILER ***                                        03290099
033000                                                                  03300099
033100     EXEC SQL                                                     03310099
033200          DECLARE SHP-ALL-CRTN-CSR CURSOR FOR                     03320099
033300           SELECT  'A'                                            03330099
033400                 , A.SHIPT_UNT_ID                                 03340099
033500                 , A.OPER_UNT_ID                                  03350099
033600                 , A.DOOR_ID                                      03360099
033700                 , A.DIVERT_TMST                                  03370099
033800                 , B.STRT_SCN_USR_ID                              03380099
033900                 , B.OTBND_TRIP_ID                                03390099
034000                 , A.ACTV_CDE                                     03400099
034100                 , A.PRC_RSN_CDE                                  03410099
034200                 , A.NACTV_USR_ID                                 03420099
034300                 , B.END_SCN_USR_ID                               03430099
034400                 , A.DEST_OPER_UNT_ID                             03440099
034500                 , B.STRT_SCN_TMST                                03450099
034600                 , B.END_SCN_TMST                                 03460099
034700              ,CASE                                               03470099
034800                  WHEN A.DIVERT_TMST = B.STRT_DIVERT_TMST         03480099
034900                      THEN 'S'                                    03490099
035000                  WHEN A.DIVERT_TMST = B.END_DIVERT_TMST          03500099
035100                      THEN 'E'                                    03510099
035200                  ELSE 'N'                                        03520099
035300               END                                                03530099
035400             FROM  TSUCRDV A                                      03540099
035500                 , TSUCDOT B                                      03550099
035600            WHERE  A.DIVERT_TMST   >=  :PC049-DK-START-TMST       03560099
035700              AND  A.DIVERT_TMST   <=  :PC049-DK-END-TMST         03570099
035800              AND  A.OPER_UNT_ID    =  :PC049-DK-OPER-UNT-ID      03580099
035900              AND  A.OPER_UNT_ID    =   B.OPER_UNT_ID             03590099
036000              AND  B.OTBND_TRIP_ID  =  :PC049-DK-OTBND-TRIP-ID    03600099
036100              AND  A.DIVERT_TMST   >=   B.STRT_DIVERT_TMST        03610099
036200              AND  A.DIVERT_TMST   <=   B.END_DIVERT_TMST         03620099
036300              AND  A.DOOR_ID        =   B.DOOR_ID                 03630099
036400              AND  NOT A.DEST_OPER_UNT_ID                         03640099
036500                                   IN (:PC049-PV-STORE-01         03650099
036600                                      ,:PC049-PV-STORE-02         03660099
036700                                      ,:PC049-PV-STORE-03         03670099
036800                                      ,:PC049-PV-STORE-04)        03680099
036900              AND  A.DIVERT_TMST      =                           03690099
037000                     (SELECT MAX(C.DIVERT_TMST)                   03700099
037100                 FROM  TSUCRDV C                                  03710099
037200                 WHERE A.SHIPT_UNT_ID = C.SHIPT_UNT_ID)           03720099
037300           UNION                                                  03730099
037400           SELECT  'B'                                            03740099
037500                 , SHIPT_UNT_ID                                   03750099
037600                 , LOC_NBR                                        03760099
037700                 , SCN_CDE                                        03770099
037800                 , CRE_TMST                                       03780099
037900                 , CRE_USR_ID                                     03790099
038000                 , OTBND_TRIP_ID                                  03800099
038100                 , ACTV_CDE                                       03810099
038200                 , '        '                                     03820099
038300                 , '        '                                     03830099
038400                 , '        '                                     03840099
038500                 , 0                                              03850099
038600                 , CRE_TMST                                       03860099
038700                 , CRE_TMST                                       03870099
038800                 , ' '                                            03880099
038900             FROM  SUT_OTBND_LOC                                  03890099
039000            WHERE  OTBND_TRIP_ID    =  :PC049-DK-OTBND-TRIP-ID    03900099
039100              AND  SCN_CDE IN ('SHON'                             03910099
039200                                 ,'SHOF')                         03920099
039300           ORDER BY 5                                             03930099
039400     END-EXEC.                                                    03940099
039500                                                                  03950099
039600* * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * 03960099
039700*                                                                 03970099
039800* THIS CURSOR WILL BRING BACK ALL OF THE CARTONS FOR AN OUTBOUND  03980099
039900* TRAILER - THIS INCLUDES INACTIVE AND SCANNED OFF CARTONS        03990099
040000* TRAILER.  WILL ALSO BRING BACK ASSUMED CARTONS (C), S =  START  04000099
040100* DIVERT, E = END DIVERT, A = DIVERTED, B = SCANNED ON OR  OFF    04010099
040200*                                                                 04020099
040300* * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * 04030099
040400                                                                  04040099
040500     EXEC SQL                                                     04050099
040600          DECLARE SHP-TR-ALL-CTN-CSR CURSOR FOR                   04060099
040700           SELECT                                                 04070099
040800               CASE                                               04080099
040900                  WHEN B.END_DIVERT_TMST = :PC049-PC-DEFAULT-TMST 04090099
041000                      THEN 'C'                                    04100099
041100                  ELSE 'A'                                        04110099
041200               END                                                04120099
041300                 , A.SHIPT_UNT_ID                                 04130099
041400                 , A.OPER_UNT_ID                                  04140099
041500                 , A.DOOR_ID                                      04150099
041600                 , A.DIVERT_TMST                                  04160099
041700                 , B.STRT_SCN_USR_ID                              04170099
041800                 , B.OTBND_TRIP_ID                                04180099
041900                 , A.ACTV_CDE                                     04190099
042000                 , A.PRC_RSN_CDE                                  04200099
042100                 , A.NACTV_USR_ID                                 04210099
042200                 , B.END_SCN_USR_ID                               04220099
042300                 , A.DEST_OPER_UNT_ID                             04230099
042400                 , B.STRT_SCN_TMST                                04240099
042500                 , B.END_SCN_TMST                                 04250099
042600              ,CASE                                               04260099
042700                  WHEN A.DIVERT_TMST = B.STRT_DIVERT_TMST         04270099
042800                      THEN 'S'                                    04280099
042900                  WHEN A.DIVERT_TMST = B.END_DIVERT_TMST          04290099
043000                      THEN 'E'                                    04300099
043100                  ELSE 'N'                                        04310099
043200               END                                                04320099
043300             FROM  TSUCRDV A                                      04330099
043400                 , TSUCDOT B                                      04340099
043500            WHERE  A.DIVERT_TMST   >=  :PC049-DK-START-TMST       04350099
043600              AND  A.DIVERT_TMST   <=  :PC049-DK-END-TMST         04360099
043700              AND  A.OPER_UNT_ID    =  :PC049-DK-OPER-UNT-ID      04370099
043800              AND  A.OPER_UNT_ID    =   B.OPER_UNT_ID             04380099
043900              AND  B.OTBND_TRIP_ID  =  :PC049-DK-OTBND-TRIP-ID    04390099
044000              AND  A.DIVERT_TMST   >=   B.STRT_DIVERT_TMST        04400099
044100              AND  A.DIVERT_TMST   <=   B.END_DIVERT_TMST         04410099
044200              AND  A.DOOR_ID        =   B.DOOR_ID                 04420099
044300              AND  NOT A.DEST_OPER_UNT_ID                         04430099
044400                                   IN (:PC049-PV-STORE-01         04440099
044500                                      ,:PC049-PV-STORE-02         04450099
044600                                      ,:PC049-PV-STORE-03         04460099
044700                                      ,:PC049-PV-STORE-04)        04470099
044800              AND  A.DIVERT_TMST      =                           04480099
044900                     (SELECT MAX(C.DIVERT_TMST)                   04490099
045000                 FROM  TSUCRDV C                                  04500099
045100                 WHERE A.SHIPT_UNT_ID = C.SHIPT_UNT_ID)           04510099
045200           UNION                                                  04520099
045300           SELECT  'B'                                            04530099
045400                 , SHIPT_UNT_ID                                   04540099
045500                 , LOC_NBR                                        04550099
045600                 , SCN_CDE                                        04560099
045700                 , CRE_TMST                                       04570099
045800                 , CRE_USR_ID                                     04580099
045900                 , OTBND_TRIP_ID                                  04590099
046000                 , ACTV_CDE                                       04600099
046100                 , '        '                                     04610099
046200                 , '        '                                     04620099
046300                 , '        '                                     04630099
046400                 , 0                                              04640099
046500                 , CRE_TMST                                       04650099
046600                 , CRE_TMST                                       04660099
046700                 , 'N'                                            04670099
046800             FROM  SUT_OTBND_LOC                                  04680099
046900            WHERE  OTBND_TRIP_ID    =  :PC049-DK-OTBND-TRIP-ID    04690099
047000              AND  SCN_CDE IN ('SHON'                             04700099
047100                                 ,'SHOF')                         04710099
047200           ORDER BY 5                                             04720099
047300     END-EXEC.                                                    04730099
047400                                                                  04740099
047500* * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * 04750099
047600* THIS CURSOR WILL BRING BACK ALL OF THE ACTIVE CARTONS CURRENTLY 04760099
047700* ATTACHED TO AN OUTBOUND TRAILER.                                04770099
047800* USE WHEN HAVE A STARTING AND ENDING POINT                       04780099
047900* *** SHUTTLE OR STORAGE TRAILER ***                              04790099
048000* * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * 04800099
048100                                                                  04810099
048200     EXEC SQL                                                     04820099
048300          DECLARE SHTL-ACTV-CRTN-CSR CURSOR FOR                   04830099
048400           SELECT  'A'                                            04840099
048500                 , A.SHIPT_UNT_ID                                 04850099
048600                 , A.OPER_UNT_ID                                  04860099
048700                 , A.DOOR_ID                                      04870099
048800                 , A.DIVERT_TMST                                  04880099
048900                 , B.STRT_SCN_USR_ID                              04890099
049000                 , B.OTBND_TRIP_ID                                04900099
049100                 , A.ACTV_CDE                                     04910099
049200                 , A.PRC_RSN_CDE                                  04920099
049300                 , A.NACTV_USR_ID                                 04930099
049400                 , B.END_SCN_USR_ID                               04940099
049500                 , B.STRT_SCN_TMST                                04950099
049600                 , B.END_SCN_TMST                                 04960099
049700              ,CASE                                               04970099
049800                  WHEN A.DIVERT_TMST = B.STRT_DIVERT_TMST         04980099
049900                      THEN 'S'                                    04990099
050000                  WHEN A.DIVERT_TMST = B.END_DIVERT_TMST          05000099
050100                      THEN 'E'                                    05010099
050200                  ELSE 'N'                                        05020099
050300               END                                                05030099
050400             FROM  TSUCRDV A                                      05040099
050500                 , TSUCDOT B                                      05050099
050600            WHERE  A.DIVERT_TMST   >=  :PC049-DK-START-TMST       05060099
050700              AND  A.DIVERT_TMST   <=  :PC049-DK-END-TMST         05070099
050800              AND  A.OPER_UNT_ID    =  :PC049-DK-OPER-UNT-ID      05080099
050900              AND  A.ACTV_CDE       =  'A'                        05090099
051000              AND  A.OPER_UNT_ID    =   B.OPER_UNT_ID             05100099
051100              AND  B.OTBND_TRIP_ID  =  :PC049-DK-OTBND-TRIP-ID    05110099
051200              AND  A.DIVERT_TMST   >=   B.STRT_DIVERT_TMST        05120099
051300              AND  A.DIVERT_TMST   <=   B.END_DIVERT_TMST         05130099
051400              AND  A.DOOR_ID        =   B.DOOR_ID                 05140099
051500              AND  A.DIVERT_TMST      =                           05150099
051600                     (SELECT MAX(C.DIVERT_TMST)                   05160099
051700                 FROM  TSUCRDV C                                  05170099
051800                 WHERE A.SHIPT_UNT_ID = C.SHIPT_UNT_ID)           05180099
051900           UNION                                                  05190099
052000           SELECT  'B'                                            05200099
052100                 , SHIPT_UNT_ID                                   05210099
052200                 , LOC_NBR                                        05220099
052300                 , SCN_CDE                                        05230099
052400                 , CRE_TMST                                       05240099
052500                 , CRE_USR_ID                                     05250099
052600                 , OTBND_TRIP_ID                                  05260099
052700                 , ACTV_CDE                                       05270099
052800                 , '        '                                     05280099
052900                 , '        '                                     05290099
053000                 , '        '                                     05300099
053100                 , CRE_TMST                                       05310099
053200                 , CRE_TMST                                       05320099
053300                 , ' '                                            05330099
053400             FROM  SUT_OTBND_LOC                                  05340099
053500            WHERE  OTBND_TRIP_ID    =  :PC049-DK-OTBND-TRIP-ID    05350099
053600              AND  SCN_CDE =     'SHON'                           05360099
053700              AND  ACTV_CDE   =  'A'                              05370099
053800           ORDER BY 5                                             05380099
053900     END-EXEC.                                                    05390099
054000*                                                                 05400099
054100* * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * 05410099
054200*                                                                 05420099
054300* THIS CURSOR WILL BRING BACK ALL OF THE CARTONS FOR AN OUTBOUND  05430099
054400* TRAILER - THIS INCLUDES INACTIVE AND SCANNED OFF CARTONS        05440099
054500* USE WHEN HAVE A STARTING AND ENDING POINT                       05450099
054600* *** SHHUTTLE OR STORAGE TRAILER ***                             05460099
054700                                                                  05470099
054800     EXEC SQL                                                     05480099
054900          DECLARE SHTL-ALL-CTN-CSR CURSOR FOR                     05490099
055000           SELECT  'A'                                            05500099
055100                 , A.SHIPT_UNT_ID                                 05510099
055200                 , A.OPER_UNT_ID                                  05520099
055300                 , A.DOOR_ID                                      05530099
055400                 , A.DIVERT_TMST                                  05540099
055500                 , B.STRT_SCN_USR_ID                              05550099
055600                 , B.OTBND_TRIP_ID                                05560099
055700                 , A.ACTV_CDE                                     05570099
055800                 , A.PRC_RSN_CDE                                  05580099
055900                 , A.NACTV_USR_ID                                 05590099
056000                 , B.END_SCN_USR_ID                               05600099
056100                 , A.DEST_OPER_UNT_ID                             05610099
056200                 , B.STRT_SCN_TMST                                05620099
056300                 , B.END_SCN_TMST                                 05630099
056400              ,CASE                                               05640099
056500                  WHEN A.DIVERT_TMST = B.STRT_DIVERT_TMST         05650099
056600                      THEN 'S'                                    05660099
056700                  WHEN A.DIVERT_TMST = B.END_DIVERT_TMST          05670099
056800                      THEN 'E'                                    05680099
056900                  ELSE 'N'                                        05690099
057000               END                                                05700099
057100             FROM  TSUCRDV A                                      05710099
057200                 , TSUCDOT B                                      05720099
057300            WHERE  A.DIVERT_TMST   >=  :PC049-DK-START-TMST       05730099
057400              AND  A.DIVERT_TMST   <=  :PC049-DK-END-TMST         05740099
057500              AND  A.OPER_UNT_ID    =  :PC049-DK-OPER-UNT-ID      05750099
057600              AND  A.OPER_UNT_ID    =   B.OPER_UNT_ID             05760099
057700              AND  B.OTBND_TRIP_ID  =  :PC049-DK-OTBND-TRIP-ID    05770099
057800              AND  A.DIVERT_TMST   >=   B.STRT_DIVERT_TMST        05780099
057900              AND  A.DIVERT_TMST   <=   B.END_DIVERT_TMST         05790099
058000              AND  A.DOOR_ID        =   B.DOOR_ID                 05800099
058100              AND  A.DIVERT_TMST      =                           05810099
058200                     (SELECT MAX(C.DIVERT_TMST)                   05820099
058300                 FROM  TSUCRDV C                                  05830099
058400                 WHERE A.SHIPT_UNT_ID = C.SHIPT_UNT_ID)           05840099
058500           UNION                                                  05850099
058600           SELECT  'B'                                            05860099
058700                 , SHIPT_UNT_ID                                   05870099
058800                 , LOC_NBR                                        05880099
058900                 , SCN_CDE                                        05890099
059000                 , CRE_TMST                                       05900099
059100                 , CRE_USR_ID                                     05910099
059200                 , OTBND_TRIP_ID                                  05920099
059300                 , ACTV_CDE                                       05930099
059400                 , '        '                                     05940099
059500                 , '        '                                     05950099
059600                 , '        '                                     05960099
059700                 , 0                                              05970099
059800                 , CRE_TMST                                       05980099
059900                 , CRE_TMST                                       05990099
060000                 , 'N'                                            06000099
060100             FROM  SUT_OTBND_LOC                                  06010099
060200            WHERE  OTBND_TRIP_ID    =  :PC049-DK-OTBND-TRIP-ID    06020099
060300              AND  SCN_CDE IN ('SHON'                             06030099
060400                                 ,'SHOF')                         06040099
060500           ORDER BY 5                                             06050099
060600     END-EXEC.                                                    06060099
060700*                                                                 06070099
060800                                                                  06080099
060900* * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * 06090099
061000*                                                                 06100099
061100* THIS CURSOR WILL BRING BACK ALL OF THE CARTONS FOR AN OUTBOUND  06110099
061200* TRAILER - THIS INCLUDES INACTIVE AND SCANNED OFF CARTONS        06120099
061300* TRAILER.  WILL ALSO BRING BACK ASSUMED CARTONS (C), S =  START  06130099
061400* DIVERT, E = END DIVERT, A = DIVERTED, B = SCANNED ON OR  OFF    06140099
061500* *** STORAGE OR SHUTTLE TRAILER ***                              06150099
061600                                                                  06160099
061700     EXEC SQL                                                     06170099
061800          DECLARE SHTL-TR-AL-CTN-CSR CURSOR FOR                   06180099
061900           SELECT                                                 06190099
062000              CASE                                                06200099
062100                 WHEN B.END_DIVERT_TMST  = :PC049-PC-DEFAULT-TMST 06210099
062200                     THEN 'C'                                     06220099
062300                        ELSE 'A'                                  06230099
062400              END                                                 06240099
062500                 , A.SHIPT_UNT_ID                                 06250099
062600                 , A.OPER_UNT_ID                                  06260099
062700                 , A.DOOR_ID                                      06270099
062800                 , A.DIVERT_TMST                                  06280099
062900                 , B.STRT_SCN_USR_ID                              06290099
063000                 , B.OTBND_TRIP_ID                                06300099
063100                 , A.ACTV_CDE                                     06310099
063200                 , A.PRC_RSN_CDE                                  06320099
063300                 , A.NACTV_USR_ID                                 06330099
063400                 , B.END_SCN_USR_ID                               06340099
063500                 , A.DEST_OPER_UNT_ID                             06350099
063600                 , B.STRT_SCN_TMST                                06360099
063700                 , B.END_SCN_TMST                                 06370099
063800              ,CASE                                               06380099
063900                  WHEN A.DIVERT_TMST = B.STRT_DIVERT_TMST         06390099
064000                      THEN 'S'                                    06400099
064100                  WHEN A.DIVERT_TMST = B.END_DIVERT_TMST          06410099
064200                      THEN 'E'                                    06420099
064300                  ELSE 'N'                                        06430099
064400               END                                                06440099
064500             FROM  TSUCRDV A                                      06450099
064600                 , TSUCDOT B                                      06460099
064700            WHERE  A.DIVERT_TMST   >=  :PC049-DK-START-TMST       06470099
064800              AND  A.DIVERT_TMST   <=  :PC049-PC-DEFAULT-TMST     06480099
064900              AND  A.OPER_UNT_ID    =  :PC049-DK-OPER-UNT-ID      06490099
065000              AND  A.OPER_UNT_ID    =   B.OPER_UNT_ID             06500099
065100              AND  A.DOOR_ID        =   B.DOOR_ID                 06510099
065200              AND  A.DIVERT_TMST   >=   B.STRT_DIVERT_TMST        06520099
065300              AND  A.DIVERT_TMST   <=   B.END_DIVERT_TMST         06530099
065400              AND  B.OTBND_TRIP_ID  =  :PC049-DK-OTBND-TRIP-ID    06540099
065500              AND  A.DIVERT_TMST      =                           06550099
065600                     (SELECT MAX(C.DIVERT_TMST)                   06560099
065700                 FROM  TSUCRDV C                                  06570099
065800                 WHERE A.SHIPT_UNT_ID = C.SHIPT_UNT_ID)           06580099
065900           UNION                                                  06590099
066000           SELECT  'B'                                            06600099
066100                 , SHIPT_UNT_ID                                   06610099
066200                 , LOC_NBR                                        06620099
066300                 , SCN_CDE                                        06630099
066400                 , CRE_TMST                                       06640099
066500                 , CRE_USR_ID                                     06650099
066600                 , OTBND_TRIP_ID                                  06660099
066700                 , ACTV_CDE                                       06670099
066800                 , '        '                                     06680099
066900                 , '        '                                     06690099
067000                 , '        '                                     06700099
067100                 , 0                                              06710099
067200                 , CRE_TMST                                       06720099
067300                 , CRE_TMST                                       06730099
067400                 , 'N'                                            06740099
067500             FROM  SUT_OTBND_LOC                                  06750099
067600            WHERE  OTBND_TRIP_ID    =  :PC049-DK-OTBND-TRIP-ID    06760099
067700              AND  SCN_CDE IN ('SHON'                             06770099
067800                                 ,'SHOF')                         06780099
067900           ORDER BY 5                                             06790099
068000     END-EXEC.                                                    06800099
068100                                                                  06810099
068200* * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * 06820099
068300* THIS CURSOR WILL BRING BACK ALL OF THE CARTONS THAT WERE        06830099
068400* DIVERTED TO A GIVEN DOOR WITHIN THE DC.                         06840099
068500* * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * 06850099
068600                                                                  06860099
068700     EXEC SQL                                                     06870099
068800          DECLARE DOOR-DVRT-CRTN-CSR CURSOR FOR                   06880099
068900           SELECT A.SHIPT_UNT_ID                                  06890099
069000                , A.DEST_OPER_UNT_ID                              06900099
069100                , A.DIVERT_TMST                                   06910099
069200                , A.ACTV_CDE                                      06920099
069300             FROM TSUCRDV A                                       06930099
069400            WHERE A.OPER_UNT_ID  =  :PC049-DK-OPER-UNT-ID         06940099
069500              AND A.DOOR_ID      =  :PC049-DK-DOOR-ID             06950099
069600              AND A.DIVERT_TMST  =                                06960099
069700                     (SELECT MAX(B.DIVERT_TMST)                   06970099
069800                 FROM  TSUCRDV B                                  06980099
069900                 WHERE A.SHIPT_UNT_ID = B.SHIPT_UNT_ID)           06990099
070000            ORDER BY DIVERT_TMST DESC                             07000099
070100     END-EXEC.                                                    07010099
070200                                                                  07020099
070300* * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * 07030099
070400* THIS CURSOR WILL BRING BACK ALL OF THE CARTONS THAT WERE        07040099
070500* SCANNED OFF OF A TRAILER BECAUSE AN AUDIT HAS OCCURRED.         07050099
070600* * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * 07060099
070700     EXEC SQL                                                     07070099
070800          DECLARE SCAN-OFF-CSR CURSOR FOR                         07080099
070900             SELECT SHIPT_UNT_ID                                  07090099
071000                  , SCN_CDE                                       07100099
071100             FROM   SUT_OTBND_LOC                                 07110099
071200            WHERE   OTBND_TRIP_ID    = :PC049-DK-OTBND-TRIP-ID    07120099
071300              AND   SCN_CDE          = 'SHOF'                     07130099
071400              AND   CRE_TMST        >= :PC049-DK-AUD-STRT-TMST    07140099
071500              AND   CRE_TMST        <= :PC049-DK-AUD-STP-TMST     07150099
071600     END-EXEC.                                                    07160099
071700                                                                  07170099
071800* * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * 07180099
071900* THIS CURSOR WILL BRING BACK THE CARTONS THAT WERE DIVERTED TO   07190099
072000* A GIVEN DOOR WITHIN THE DC BASED ON A DATE PASSED BY THE PGRM.  07200099
072100* * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * 07210099
072200                                                                  07220099
072300     EXEC SQL                                                     07230099
072400          DECLARE DATE-DVRT-CRTN-CSR CURSOR FOR                   07240099
072500           SELECT A.SHIPT_UNT_ID                                  07250099
072600                , A.DEST_OPER_UNT_ID                              07260099
072700                , A.DIVERT_TMST                                   07270099
072800                , A.ACTV_CDE                                      07280099
072900             FROM TSUCRDV A                                       07290099
073000            WHERE A.OPER_UNT_ID  =  :PC049-DK-OPER-UNT-ID         07300099
073100              AND A.DOOR_ID      =  :PC049-DK-DOOR-ID             07310099
073200              AND A.DIVERT_TMST  >= :PC049-DK-START-TMST          07320099
073300              AND A.DIVERT_TMST  <= :PC049-DK-END-TMST            07330099
073400              AND A.DIVERT_TMST  =                                07340099
073500                     (SELECT MAX(B.DIVERT_TMST)                   07350099
073600                 FROM  TSUCRDV B                                  07360099
073700                 WHERE A.SHIPT_UNT_ID = B.SHIPT_UNT_ID)           07370099
073800            ORDER BY DIVERT_TMST DESC                             07380099
073900     END-EXEC.                                                    07390099
074000                                                                  07400099
074100* * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * 07410099
074200*                                                                 07420099
074300* THIS CURSOR WILL BRING BACK ALL OF THE ACTIVE CARTONS CURRENTLY 07430099
074400* ATTACHED TO AN OUTBOUND TRAILER AT THE TIME THE AUDIT WAS       07440099
074500* STARTED.  *** SHIPPING TRAILER ***                              07450099
074600* USE WHEN HAVE A STARTING AND ENDING POINT                       07460099
074700                                                                  07470099
074800     EXEC SQL                                                     07480099
074900          DECLARE AUD-SHP-ACTV-CSR CURSOR FOR                     07490099
075000           SELECT  'A'                                            07500099
075100                 , A.SHIPT_UNT_ID                                 07510099
075200                 , A.OPER_UNT_ID                                  07520099
075300                 , A.DOOR_ID                                      07530099
075400                 , A.DIVERT_TMST                                  07540099
075500                 , B.STRT_SCN_USR_ID                              07550099
075600                 , B.OTBND_TRIP_ID                                07560099
075700                 , A.ACTV_CDE                                     07570099
075800                 , A.PRC_RSN_CDE                                  07580099
075900                 , A.NACTV_USR_ID                                 07590099
076000                 , B.END_SCN_USR_ID                               07600099
076100                 , B.STRT_SCN_TMST                                07610099
076200                 , B.END_SCN_TMST                                 07620099
076300              ,CASE                                               07630099
076400                  WHEN A.DIVERT_TMST = B.STRT_DIVERT_TMST         07640099
076500                      THEN 'S'                                    07650099
076600                  WHEN A.DIVERT_TMST = B.END_DIVERT_TMST          07660099
076700                      THEN 'E'                                    07670099
076800                  ELSE 'N'                                        07680099
076900               END                                                07690099
077000             FROM  TSUCRDV A                                      07700099
077100                 , TSUCDOT B                                      07710099
077200            WHERE  A.DIVERT_TMST   >=  :PC049-DK-START-TMST       07720099
077300              AND  A.DIVERT_TMST   <=  :PC049-DK-END-TMST         07730099
077400              AND  A.OPER_UNT_ID    =  :PC049-DK-OPER-UNT-ID      07740099
077500              AND  A.ACTV_CDE       =  'A'                        07750099
077600              AND  A.OPER_UNT_ID    =   B.OPER_UNT_ID             07760099
077700              AND  B.OTBND_TRIP_ID  =  :PC049-DK-OTBND-TRIP-ID    07770099
077800              AND  A.DIVERT_TMST   >=   B.STRT_DIVERT_TMST        07780099
077900              AND  A.DIVERT_TMST   <=   B.END_DIVERT_TMST         07790099
078000              AND  A.DOOR_ID        =   B.DOOR_ID                 07800099
078100              AND  NOT A.DEST_OPER_UNT_ID                         07810099
078200                                   IN (:PC049-PV-STORE-01         07820099
078300                                      ,:PC049-PV-STORE-02         07830099
078400                                      ,:PC049-PV-STORE-03         07840099
078500                                      ,:PC049-PV-STORE-04)        07850099
078600              AND  A.DIVERT_TMST      =                           07860099
078700                     (SELECT MAX(C.DIVERT_TMST)                   07870099
078800                 FROM  TSUCRDV C                                  07880099
078900                 WHERE A.SHIPT_UNT_ID = C.SHIPT_UNT_ID)           07890099
079000           UNION                                                  07900099
079100           SELECT  'B'                                            07910099
079200                 , A.SHIPT_UNT_ID                                 07920099
079300                 , A.LOC_NBR                                      07930099
079400                 , A.SCN_CDE                                      07940099
079500                 , A.CRE_TMST                                     07950099
079600                 , A.CRE_USR_ID                                   07960099
079700                 , A.OTBND_TRIP_ID                                07970099
079800                 , A.ACTV_CDE                                     07980099
079900                 , '        '                                     07990099
080000                 , '        '                                     08000099
080100                 , '        '                                     08010099
080200                                                                  08020099
080300                 ,  TIMESTAMP                                     08030099
080400                   (  CHAR(B.CRE_DTE)                             08040099
080500                     ||                                           08050099
080600                    '-'                                           08060099
080700                     || CHAR(B.CRE_TM)                            08070099
080800                     || '.000000'                                 08080099
080900                    )                                             08090099
081000                                                                  08100099
081100                 , A.CRE_TMST                                     08110099
081200                 , ' '                                            08120099
081300             FROM  SUT_OTBND_LOC A                                08130099
081400                 , SUT_OTBND_CART B                               08140099
081500            WHERE  A.OTBND_TRIP_ID  =  :PC049-DK-OTBND-TRIP-ID    08150099
081600              AND  A.SCN_CDE        =  'SHON'                     08160099
081700              AND  A.ACTV_CDE       =  'A'                        08170099
081800              AND  B.ACTV_IND       =  'Y'                        08180099
081900              AND  A.SHIPT_UNT_ID   =   B.SHIPT_UNT_ID            08190099
082000              AND  NOT B.DEST_LOC_NBR                             08200099
082100                                   IN (:PC049-PV-STORE-01         08210099
082200                                      ,:PC049-PV-STORE-02         08220099
082300                                      ,:PC049-PV-STORE-03         08230099
082400                                      ,:PC049-PV-STORE-04)        08240099
082500*LMM ADD                                                          08250099
082600              AND  A.CRE_TMST       <= :PC049-DK-AUD-STRT-TMST    08260099
082700           UNION                                                  08270099
082800           SELECT  'C'                                            08280099
082900                 , A.SHIPT_UNT_ID                                 08290099
083000                 , A.LOC_NBR                                      08300099
083100                 , A.SCN_CDE                                      08310099
083200                 , A.CRE_TMST                                     08320099
083300                 , A.CRE_USR_ID                                   08330099
083400                 , A.OTBND_TRIP_ID                                08340099
083500                 , A.ACTV_CDE                                     08350099
083600                 , '        '                                     08360099
083700                 , '        '                                     08370099
083800                 , '        '                                     08380099
083900                                                                  08390099
084000                 ,  TIMESTAMP                                     08400099
084100                   (  CHAR(B.CRE_DTE)                             08410099
084200                     ||                                           08420099
084300                    '-'                                           08430099
084400                     || CHAR(B.CRE_TM)                            08440099
084500                     || '.000000'                                 08450099
084600                    )                                             08460099
084700                                                                  08470099
084800                 , A.CRE_TMST                                     08480099
084900                 , ' '                                            08490099
085000             FROM  SUT_OTBND_LOC A                                08500099
085100                 , SUT_OTBND_CART B                               08510099
085200            WHERE  A.OTBND_TRIP_ID  =  :PC049-DK-OTBND-TRIP-ID    08520099
085300              AND  A.SCN_CDE        =  'SHOF'                     08530099
085400              AND  A.ACTV_CDE       =  'I'                        08540099
085500              AND  B.ACTV_IND       =  'N'                        08550099
085600              AND  A.SHIPT_UNT_ID   =   B.SHIPT_UNT_ID            08560099
085700              AND  A.CRE_TMST       <= :PC049-DK-START-TMST       08570099
085800              AND  NOT B.DEST_LOC_NBR                             08580099
085900                                   IN (:PC049-PV-STORE-01         08590099
086000                                      ,:PC049-PV-STORE-02         08600099
086100                                      ,:PC049-PV-STORE-03         08610099
086200                                      ,:PC049-PV-STORE-04)        08620099
086300           ORDER BY 5                                             08630099
086400     END-EXEC.                                                    08640099
086500*                                                                 08650099
086600* * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * 08660099
086700*                                                                 08670099
086800* THIS CURSOR WILL BRING BACK ALL OF THE ACTIVE CARTONS CURRENTLY 08680099
086900* ATTACHED TO AN OUTBOUND TRAILER.                                08690099
087000* USE WHEN HAVE A STARTING AND ENDING POINT                       08700099
087100* *** SHUTTLE OR STORAGE TRAILER ***                              08710099
087200                                                                  08720099
087300     EXEC SQL                                                     08730099
087400          DECLARE AUD-SHTL-ACTV-CSR CURSOR FOR                    08740099
087500           SELECT  'A'                                            08750099
087600                 , A.SHIPT_UNT_ID                                 08760099
087700                 , A.OPER_UNT_ID                                  08770099
087800                 , A.DOOR_ID                                      08780099
087900                 , A.DIVERT_TMST                                  08790099
088000                 , B.STRT_SCN_USR_ID                              08800099
088100                 , B.OTBND_TRIP_ID                                08810099
088200                 , A.ACTV_CDE                                     08820099
088300                 , A.PRC_RSN_CDE                                  08830099
088400                 , A.NACTV_USR_ID                                 08840099
088500                 , B.END_SCN_USR_ID                               08850099
088600                 , B.STRT_SCN_TMST                                08860099
088700                 , B.END_SCN_TMST                                 08870099
088800              ,CASE                                               08880099
088900                  WHEN A.DIVERT_TMST = B.STRT_DIVERT_TMST         08890099
089000                      THEN 'S'                                    08900099
089100                  WHEN A.DIVERT_TMST = B.END_DIVERT_TMST          08910099
089200                      THEN 'E'                                    08920099
089300                  ELSE 'N'                                        08930099
089400               END                                                08940099
089500             FROM  TSUCRDV A                                      08950099
089600                 , TSUCDOT B                                      08960099
089700            WHERE  A.DIVERT_TMST   >=  :PC049-DK-START-TMST       08970099
089800              AND  A.DIVERT_TMST   <=  :PC049-DK-END-TMST         08980099
089900              AND  A.OPER_UNT_ID    =  :PC049-DK-OPER-UNT-ID      08990099
090000              AND  A.ACTV_CDE       =  'A'                        09000099
090100              AND  A.OPER_UNT_ID    =   B.OPER_UNT_ID             09010099
090200              AND  B.OTBND_TRIP_ID  =  :PC049-DK-OTBND-TRIP-ID    09020099
090300              AND  A.DIVERT_TMST   >=   B.STRT_DIVERT_TMST        09030099
090400              AND  A.DIVERT_TMST   <=   B.END_DIVERT_TMST         09040099
090500              AND  A.DOOR_ID        =   B.DOOR_ID                 09050099
090600              AND  A.DIVERT_TMST      =                           09060099
090700                     (SELECT MAX(C.DIVERT_TMST)                   09070099
090800                 FROM  TSUCRDV C                                  09080099
090900                 WHERE A.SHIPT_UNT_ID = C.SHIPT_UNT_ID)           09090099
091000           UNION                                                  09100099
091100           SELECT  'B'                                            09110099
091200                 , SHIPT_UNT_ID                                   09120099
091300                 , LOC_NBR                                        09130099
091400                 , SCN_CDE                                        09140099
091500                 , CRE_TMST                                       09150099
091600                 , CRE_USR_ID                                     09160099
091700                 , OTBND_TRIP_ID                                  09170099
091800                 , ACTV_CDE                                       09180099
091900                 , '        '                                     09190099
092000                 , '        '                                     09200099
092100                 , '        '                                     09210099
092200                 , CRE_TMST                                       09220099
092300                 , CRE_TMST                                       09230099
092400                 , ' '                                            09240099
092500             FROM  SUT_OTBND_LOC                                  09250099
092600            WHERE  OTBND_TRIP_ID    =  :PC049-DK-OTBND-TRIP-ID    09260099
092700              AND  SCN_CDE =     'SHON'                           09270099
092800              AND  ACTV_CDE   =  'A'                              09280099
092900*LMM ADD                                                          09290099
093000              AND  CRE_TMST       <= :PC049-DK-AUD-STRT-TMST      09300099
093100           ORDER BY 5                                             09310099
093200     END-EXEC.                                                    09320099
093300                                                                  09330099
093400* * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * 09340099
093500* THIS CURSOR WILL BRING BACK ALL OF THE ACTIVE CARTONS CURRENTLY 09350099
093600* ATTACHED TO AN OUTBOUND TRAILER IN SHIPT-UNT-ID ORDER.          09360099
093700* USE WHEN HAVE A STARTING AND ENDING POINT                       09370099
093800* *** SHUTTLE OR STORAGE TRAILER ***                              09380099
093900* * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * 09390099
094000                                                                  09400099
094100     EXEC SQL                                                     09410099
094200          DECLARE SHTLACTV-CRTN-CSR CURSOR FOR                    09420099
094300           SELECT  'A'                                            09430099
094400                 , A.SHIPT_UNT_ID                                 09440099
094500                 , A.OPER_UNT_ID                                  09450099
094600                 , A.DOOR_ID                                      09460099
094700                 , A.DIVERT_TMST                                  09470099
094800                 , B.STRT_SCN_USR_ID                              09480099
094900                 , B.OTBND_TRIP_ID                                09490099
095000                 , A.ACTV_CDE                                     09500099
095100                 , A.PRC_RSN_CDE                                  09510099
095200                 , A.NACTV_USR_ID                                 09520099
095300                 , B.END_SCN_USR_ID                               09530099
095400                 , B.STRT_SCN_TMST                                09540099
095500                 , B.END_SCN_TMST                                 09550099
095600              ,CASE                                               09560099
095700                  WHEN A.DIVERT_TMST = B.STRT_DIVERT_TMST         09570099
095800                      THEN 'S'                                    09580099
095900                  WHEN A.DIVERT_TMST = B.END_DIVERT_TMST          09590099
096000                      THEN 'E'                                    09600099
096100                  ELSE 'N'                                        09610099
096200               END                                                09620099
096300             FROM  TSUCRDV A                                      09630099
096400                 , TSUCDOT B                                      09640099
096500            WHERE  A.DIVERT_TMST   >=  :PC049-DK-START-TMST       09650099
096600              AND  A.DIVERT_TMST   <=  :PC049-DK-END-TMST         09660099
096700              AND  A.OPER_UNT_ID    =  :PC049-DK-OPER-UNT-ID      09670099
096800              AND  A.ACTV_CDE       =  'A'                        09680099
096900              AND  A.OPER_UNT_ID    =   B.OPER_UNT_ID             09690099
097000              AND  B.OTBND_TRIP_ID  =  :PC049-DK-OTBND-TRIP-ID    09700099
097100              AND  A.DIVERT_TMST   >=   B.STRT_DIVERT_TMST        09710099
097200              AND  A.DIVERT_TMST   <=   B.END_DIVERT_TMST         09720099
097300              AND  A.DOOR_ID        =   B.DOOR_ID                 09730099
097400              AND  A.DIVERT_TMST      =                           09740099
097500                     (SELECT MAX(C.DIVERT_TMST)                   09750099
097600                 FROM  TSUCRDV C                                  09760099
097700                 WHERE A.SHIPT_UNT_ID = C.SHIPT_UNT_ID)           09770099
097800           UNION                                                  09780099
097900           SELECT  'B'                                            09790099
098000                 , SHIPT_UNT_ID                                   09800099
098100                 , LOC_NBR                                        09810099
098200                 , SCN_CDE                                        09820099
098300                 , CRE_TMST                                       09830099
098400                 , CRE_USR_ID                                     09840099
098500                 , OTBND_TRIP_ID                                  09850099
098600                 , ACTV_CDE                                       09860099
098700                 , '        '                                     09870099
098800                 , '        '                                     09880099
098900                 , '        '                                     09890099
099000                 , CRE_TMST                                       09900099
099100                 , CRE_TMST                                       09910099
099200                 , ' '                                            09920099
099300             FROM  SUT_OTBND_LOC                                  09930099
099400            WHERE  OTBND_TRIP_ID    =  :PC049-DK-OTBND-TRIP-ID    09940099
099500              AND  SCN_CDE =     'SHON'                           09950099
099600              AND  ACTV_CDE   =  'A'                              09960099
099700           ORDER BY 2                                             09970099
099800     END-EXEC.                                                    09980099
099900*                                                                 09990099
100000* * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * 10000099
100100*                                                                 10010099
100200* THIS CURSOR WILL BRING BACK ALL OF THE ACTIVE CARTONS CURRENTLY 10020099
100300* ATTACHED TO AN OUTBOUND TRAILER. *** SHIPPING TRAILER ***       10030099
100400* USE WHEN HAVE A STARTING AND ENDING POINT                       10040099
100500* ALSO BRINGS BACK THE UPC, TRN AND TRN LINE NBR FROM THE         10050099
100600* SUT_OTBND_UPC TABLE                                             10060099
100700                                                                  10070099
100800     EXEC SQL                                                     10080099
100900          DECLARE SHP-ACV-CR-UPC-CSR CURSOR FOR                   10090099
101000           SELECT  'A'                                            10100099
101100                 , A.SHIPT_UNT_ID                                 10110099
101200                 , A.OPER_UNT_ID                                  10120099
101300                 , A.DOOR_ID                                      10130099
101400                 , A.DIVERT_TMST                                  10140099
101500                 , B.STRT_SCN_USR_ID                              10150099
101600                 , B.OTBND_TRIP_ID                                10160099
101700                 , A.ACTV_CDE                                     10170099
101800                 , A.PRC_RSN_CDE                                  10180099
101900                 , A.NACTV_USR_ID                                 10190099
102000                 , B.END_SCN_USR_ID                               10200099
102100                 , B.STRT_SCN_TMST                                10210099
102200                 , B.END_SCN_TMST                                 10220099
102300              ,CASE                                               10230099
102400                  WHEN A.DIVERT_TMST = B.STRT_DIVERT_TMST         10240099
102500                      THEN 'S'                                    10250099
102600                  WHEN A.DIVERT_TMST = B.END_DIVERT_TMST          10260099
102700                      THEN 'E'                                    10270099
102800                  ELSE 'N'                                        10280099
102900               END                                                10290099
103000                 , C.SHPD_UNT_QTY                                 10300099
103010                 , C.UPC_NBR                                      10301099
103020                 , C.TRN_NBR                                      10302099
103030                 , C.TRN_LNE_NBR                                  10303099
103040             FROM  TSUCRDV A                                      10304099
103050                 , TSUCDOT B                                      10305099
103060                 , SUT_OTBND_UPC C                                10306099
103070            WHERE  A.DIVERT_TMST   >=  :PC049-DK-START-TMST       10307099
103080              AND  A.DIVERT_TMST   <=  :PC049-DK-END-TMST         10308099
103090              AND  A.OPER_UNT_ID    =  :PC049-DK-OPER-UNT-ID      10309099
103100              AND  A.ACTV_CDE       =  'A'                        10310099
103200              AND  A.OPER_UNT_ID    =   B.OPER_UNT_ID             10320099
103300              AND  B.OTBND_TRIP_ID  =  :PC049-DK-OTBND-TRIP-ID    10330099
103400              AND  A.DIVERT_TMST   >=   B.STRT_DIVERT_TMST        10340099
103500              AND  A.DIVERT_TMST   <=   B.END_DIVERT_TMST         10350099
103600              AND  A.DOOR_ID        =   B.DOOR_ID                 10360099
103700              AND  A.SHIPT_UNT_ID   =   C.SHIPT_UNT_ID            10370099
103800              AND  A.DEST_OPER_UNT_ID                             10380099
103900                                    =  :PC049-DK-TRLR-DEST        10390099
104300              AND  A.DIVERT_TMST      =                           10430099
104400                     (SELECT MAX(C.DIVERT_TMST)                   10440099
104500                 FROM  TSUCRDV C                                  10450099
104600                 WHERE A.SHIPT_UNT_ID = C.SHIPT_UNT_ID)           10460099
104700           UNION ALL                                              10470099
104800           SELECT  'B'                                            10480099
104900                 , A.SHIPT_UNT_ID                                 10490099
105000                 , A.LOC_NBR                                      10500099
105100                 , A.SCN_CDE                                      10510099
105200                 , A.CRE_TMST                                     10520099
105300                 , A.CRE_USR_ID                                   10530099
105400                 , A.OTBND_TRIP_ID                                10540099
105500                 , A.ACTV_CDE                                     10550099
105600                 , '        '                                     10560099
105700                 , '        '                                     10570099
105800                 , '        '                                     10580099
105900                                                                  10590099
106000                 ,  TIMESTAMP                                     10600099
106100                   (  CHAR(B.CRE_DTE)                             10610099
106200                     ||                                           10620099
106300                    '-'                                           10630099
106400                     || CHAR(B.CRE_TM)                            10640099
106500                     || '.000000'                                 10650099
106600                    )                                             10660099
106700                                                                  10670099
106800                 , A.CRE_TMST                                     10680099
106900                 , ' '                                            10690099
107000                 , C.SHPD_UNT_QTY                                 10700099
107100                 , C.UPC_NBR                                      10710099
107200                 , C.TRN_NBR                                      10720099
107300                 , C.TRN_LNE_NBR                                  10730099
107400             FROM  SUT_OTBND_LOC A                                10740099
107500                 , SUT_OTBND_CART B                               10750099
107510                 , SUT_OTBND_UPC C                                10751099
107520            WHERE  A.OTBND_TRIP_ID  =  :PC049-DK-OTBND-TRIP-ID    10752099
107530              AND  A.SCN_CDE        =  'SHON'                     10753099
107540              AND  A.ACTV_CDE       =  'A'                        10754099
107550              AND  B.ACTV_IND       =  'Y'                        10755099
107560              AND  A.SHIPT_UNT_ID   =   B.SHIPT_UNT_ID            10756099
107570              AND  A.SHIPT_UNT_ID   =   C.SHIPT_UNT_ID            10757099
107580              AND  B.DEST_LOC_NBR   =  :PC049-DK-TRLR-DEST        10758099
107900           ORDER BY 16,17                                         10790099
108000     END-EXEC.                                                    10800099
108100*                                                                 10810099
108200* * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * 10820099
108300*                                                                 10830099
108400* THIS CURSOR WILL BRING BACK ALL OF THE ACTIVE CARTONS CURRENTLY 10840099
108500* ATTACHED TO AN OUTBOUND TRAILER. *** SHUTTLE TRAILER ***        10850099
108600* USE WHEN HAVE A STARTING AND ENDING POINT                       10860099
108700* ALSO BRINGS BACK THE UPC, TRN AND TRN LINE NBR FROM THE         10870099
108800* SUT_OTBND_UPC TABLE                                             10880099
108900                                                                  10890099
109000     EXEC SQL                                                     10900099
109100          DECLARE SHTL-ACV-CR-UPC-CSR CURSOR FOR                  10910099
109200           SELECT  'A'                                            10920099
109300                 , A.SHIPT_UNT_ID                                 10930099
109400                 , A.OPER_UNT_ID                                  10940099
109500                 , A.DOOR_ID                                      10950099
109600                 , A.DIVERT_TMST                                  10960099
109700                 , B.STRT_SCN_USR_ID                              10970099
109800                 , B.OTBND_TRIP_ID                                10980099
109900                 , A.ACTV_CDE                                     10990099
110000                 , A.PRC_RSN_CDE                                  11000099
110100                 , A.NACTV_USR_ID                                 11010099
110200                 , B.END_SCN_USR_ID                               11020099
110300                 , B.STRT_SCN_TMST                                11030099
110400                 , B.END_SCN_TMST                                 11040099
110500              ,CASE                                               11050099
110600                  WHEN A.DIVERT_TMST = B.STRT_DIVERT_TMST         11060099
110700                      THEN 'S'                                    11070099
110800                  WHEN A.DIVERT_TMST = B.END_DIVERT_TMST          11080099
110900                      THEN 'E'                                    11090099
111000                  ELSE 'N'                                        11100099
111100               END                                                11110099
111200                 , C.SHPD_UNT_QTY                                 11120099
111300                 , C.UPC_NBR                                      11130099
111400                 , C.TRN_NBR                                      11140099
111500                 , C.TRN_LNE_NBR                                  11150099
111600             FROM  TSUCRDV A                                      11160099
111700                 , TSUCDOT B                                      11170099
111800                 , SUT_OTBND_UPC C                                11180099
111900            WHERE  A.DIVERT_TMST   >=  :PC049-DK-START-TMST       11190099
112000              AND  A.DIVERT_TMST   <=  :PC049-DK-END-TMST         11200099
112100              AND  A.OPER_UNT_ID    =  :PC049-DK-OPER-UNT-ID      11210099
112200              AND  A.ACTV_CDE       =  'A'                        11220099
112300              AND  A.OPER_UNT_ID    =   B.OPER_UNT_ID             11230099
112400              AND  B.OTBND_TRIP_ID  =  :PC049-DK-OTBND-TRIP-ID    11240099
112500              AND  A.DIVERT_TMST   >=   B.STRT_DIVERT_TMST        11250099
112600              AND  A.DIVERT_TMST   <=   B.END_DIVERT_TMST         11260099
112700              AND  A.DOOR_ID        =   B.DOOR_ID                 11270099
112800              AND  A.SHIPT_UNT_ID   =   C.SHIPT_UNT_ID            11280099
113100              AND  A.DIVERT_TMST      =                           11310099
113200                     (SELECT MAX(C.DIVERT_TMST)                   11320099
113300                 FROM  TSUCRDV C                                  11330099
113400                 WHERE A.SHIPT_UNT_ID = C.SHIPT_UNT_ID)           11340099
113500           UNION                                                  11350099
113600           SELECT  'B'                                            11360099
113700                 , A.SHIPT_UNT_ID                                 11370099
113800                 , A.LOC_NBR                                      11380099
113900                 , A.SCN_CDE                                      11390099
114000                 , A.CRE_TMST                                     11400099
114100                 , A.CRE_USR_ID                                   11410099
114200                 , A.OTBND_TRIP_ID                                11420099
114300                 , A.ACTV_CDE                                     11430099
114400                 , '        '                                     11440099
114500                 , '        '                                     11450099
114600                 , '        '                                     11460099
114700                                                                  11470099
114800                 ,  TIMESTAMP                                     11480099
114900                   (  CHAR(B.CRE_DTE)                             11490099
115000                     ||                                           11500099
115100                    '-'                                           11510099
115200                     || CHAR(B.CRE_TM)                            11520099
115300                     || '.000000'                                 11530099
115400                    )                                             11540099
115500                                                                  11550099
115600                 , A.CRE_TMST                                     11560099
115700                 , ' '                                            11570099
115800                 , C.SHPD_UNT_QTY                                 11580099
115900                 , C.UPC_NBR                                      11590099
116000                 , C.TRN_NBR                                      11600099
116100                 , C.TRN_LNE_NBR                                  11610099
116200             FROM  SUT_OTBND_LOC A                                11620099
116300                 , SUT_OTBND_CART B                               11630099
116400                 , SUT_OTBND_UPC C                                11640099
116500            WHERE  A.OTBND_TRIP_ID  =  :PC049-DK-OTBND-TRIP-ID    11650099
116600              AND  A.SCN_CDE        =  'SHON'                     11660099
116700              AND  A.ACTV_CDE       =  'A'                        11670099
116800              AND  B.ACTV_IND       =  'Y'                        11680099
116900              AND  A.SHIPT_UNT_ID   =   B.SHIPT_UNT_ID            11690099
117000              AND  A.SHIPT_UNT_ID   =   C.SHIPT_UNT_ID            11700099
117200           ORDER BY 16,17                                         11720099
117300     END-EXEC.                                                    11730099
