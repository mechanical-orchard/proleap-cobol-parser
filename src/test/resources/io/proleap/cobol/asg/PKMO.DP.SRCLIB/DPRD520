000100******************************************************************00010006
000200**  DPRD520.                                                    **00020006
000300**  THIS IS THE RECORD DESCRIPTION USED BY THE CICS ARCHITECTURE**00030006
000400**  TO SAVE THE AUDIT TRAIL OF THE FOLLOWING UPDATES:           **00040006
000500**  * MADE BY PROGRAMS DPKCS032, DPKCS033 TO THE:               **00050006
000600**    1) VSAM MNEMONIC FILE, FROM INFO ON THE DB2 TCICSROUTE    **00060006
000700**       AND TMNEMONIC TABLES.                                  **00070006
000800**    2) VSAM MENUITEM FILE, FROM INFO ON THE DB2 TMENUITEM     **00080006
000900**       TABLE.                                                 **00090006
001000**  * SUCCESSFUL UPDATES ARE WRITTEN TO THE AUDIT TRAIL         **00100006
001100**    (CHECK THE CICS LOG FOR UNSUCCESSFUL UPDATE ATTEMPTS)     **00110006
001200**                                                              **00120006
001300**  THE RECORD LENGTH IS CALCULATED AS THE SUM OF:              **00130006
001400**  * CURRENT TIMESTAMP FOR ALL UPDATES RELATED TO THIS MNEMONIC**00140006
001500**                                                 (26 BYTES)   **00150006
001600**  * PROGRAM PERFORMING THE UPDATES: DPKCS032 -OR- DPKCS033.   **00160006
001700**                                                 (08 BYTES)   **00170006
001800**  * REQUESTOR: USERID FOR DPKCS032 -OR- JOBNAME FOR DPKCS033  **00180006
001900**                                                 (07 BYTES)   **00190006
002000**  * REQUEST: MNEMONIC ON WHICH THE ACTIVITY WAS PERFORMED.    **00200006
002100**                                                 (08 BYTES)   **00210006
002200**  * VSAM REC TYPE: "MNEMONIC" -OR- "MENUITEM" / "MENUNAME".   **00220006
002300**                                                 (08 BYTES)   **00230006
002400**  * LAST UPDATE TIMESTAMP OF TMNEMONIC, PRIOR TO UPDATE BY    **00240006
002500**    THIS PROGRAM, IF APPLICABLE.                 (26 BYTES)   **00250006
002600**  * VSAM ACTION: A-ADD, U-UPDATE, R-REPLACE, D-DELETE.        **00260006
002700**    (REPLACE IS DIFFERENT FROM UPDATE IN THAT ALL RECORDS     **00270006
002800**     ARE DELETED, REPLACEMENTS ARE ADDED.  THEREFORE THERE    **00280006
002900**     MAY NOT BE A ONE-TO-ONE CORRESPONDENCE IN THE RECORDS    **00290006
003000**     "BEFORE" AND "AFTER" UPDATES; AS AN EXAMPLE, 5 RECORDS   **00300006
003100**     MAY HAVE EXISTED "BEFORE", 7 MAY EXIST "AFTER", ETC.)    **00310006
003200**                                                 (01 BYTES)   **00320006
003300**  * "BEFORE" IMAGE LENGTH:                                    **00330006
003400**    FOR THE VSAM MNEMONIC FILE, THIS IS DPRD503, 850 BYTES.   **00340006
003500**    FOR THE VSAM MENUITEM FILE, THIS IS DPRD504, 060 BYTES.   **00350006
003600**  * THEREFORE CURRENT RECORD LENGTHS ARE:                     **00360006
003700**    FOR THE VSAM MNEMONIC FILE ................. 908 BYTES.   **00370006
003800**    FOR THE VSAM MENUITEM FILE ................. 118 BYTES.   **00380006
003900**                                                              **00390006
004000**  FORMAT:  VSAM ESDS                                          **00400006
004100**   LRECL:  (VARIABLE) 1000 BYTES MAXIMUM                      **00410006
004200******************************************************************00420006
004300 01  DP520-DPCAUDIT-RECORD.                                       00430006
004400     05  DP520-AUDIT-DESCRIPTION.                                 00440006
004500         10  DP520-CURRENT-TMESTP    PIC  X(26)  VALUE SPACE.     00450006
004600         10  DP520-PGM               PIC  X(08)  VALUE SPACE.     00460006
004700             88  DP520-PGM-DPKCS032              VALUE 'DPKCS032'.00470006
004800             88  DP520-PGM-DPKCS033              VALUE 'DPKCS033'.00480006
004900         10  DP520-REQUESTOR         PIC  X(07)  VALUE SPACE.     00490006
005000         10  DP520-REQUEST           PIC  X(08)  VALUE SPACE.     00500006
005100         10  DP520-VSAM-REC-TYPE     PIC  X(08)  VALUE SPACE.     00510006
005200         10  DP520-MNEMONIC-PRIOR-TMESTP                          00520006
005300                                     PIC  X(26)  VALUE SPACE.     00530006
005400         10  DP520-VSAM-ACTION       PIC  X(01)  VALUE SPACE.     00540006
005500             88  DP520-VSAM-ADD                  VALUE 'A'.       00550006
005600             88  DP520-VSAM-UPDATE               VALUE 'U'.       00560006
005700             88  DP520-VSAM-REPLACE              VALUE 'R'.       00570006
005800             88  DP520-VSAM-DELETE               VALUE 'D'.       00580006
005900     05  DP520-VSAM-BEFORE-IMAGE     PIC  X(850) VALUE SPACE.     00590006
006000     05  FILLER                      PIC  X(066) VALUE SPACE.     00600006
