00001 *                                                                 08/28/90
00002 *      THIS PROCEDURE DIVISION COPY BOOK IS USED TO GET AND FORMATDPPD017 
00003 *  THE CURRENT DATE AND TIME, FOR PROGRAMS UNDER THE NEW CICS        LV008
00004 *  ARCHITECTURE.                                                  DPPD017 
00005 *                                                                 DPPD017 
00006 *      COPY MEMBER DPWS017 CONTAINS ALL VARIABLES REQUIRED FOR    DPPD017 
00007 *  THIS ROUTINE.                                                  DPPD017 
00008 *                                                                 DPPD017 
00009                                                                   DPPD017 
00010  DP017-0000-GET-CURR-DATE-TIME.                                   DPPD017 
00011      EXEC CICS                                                    DPPD017 
00012          ASKTIME                                                  DPPD017 
00013              ABSTIME (DP017-CURRENT-ABSTIME)                         CL**8
00014      END-EXEC.                                                    DPPD017 
00015                                                                   DPPD017 
00016      EXEC CICS                                                    DPPD017 
00017          FORMATTIME                                               DPPD017 
00018              ABSTIME (DP017-CURRENT-ABSTIME)                         CL**8
00019              YYMMDD  (DP017-CURRENT-DATE-YMD)                        CL**8
00020              TIME    (DP017-CURRENT-TIME-HMS)                        CL**8
00021      END-EXEC.                                                    DPPD017 
00022                                                                   DPPD017 
00023      EXEC CICS                                                    DPPD017 
00024          FORMATTIME                                               DPPD017 
00025              ABSTIME (DP017-CURRENT-ABSTIME)                         CL**8
00026              YEAR    (DP017-CURRENT-YEAR-YYYY)                       CL**8
00027      END-EXEC.                                                    DPPD017 
00028                                                                   DPPD017 
00029      MOVE DP017-CURRENT-YMD-YEAR TO DP017-CURRENT-MDY-YEAR.          CL**4
00030      MOVE DP017-CURRENT-YMD-MONTH TO DP017-EDITED-YMD-MONTH          CL**4
00031                                      DP017-CURRENT-MDY-MONTH         CL**4
00032                                      DP017-EDITED-MDY-MONTH.         CL**4
00033      MOVE DP017-CURRENT-YMD-DAY TO DP017-EDITED-YMD-DAY              CL**4
00034                                    DP017-CURRENT-MDY-DAY             CL**4
00035                                    DP017-EDITED-MDY-DAY.             CL**4
00036      MOVE DP017-CURRENT-YEAR-YYYY TO DP017-CURRENT-YMD-YYYY          CL**4
00037                                      DP017-EDITED-YMD-YYYY.          CL**7
00038      SET DP017-EDITED-YMD-DATE-DASH-1                                CL**5
00039          DP017-EDITED-YMD-DATE-DASH-2                                CL**5
00040          DP017-EDITED-MDY-DATE-SLASH-1                               CL**6
00041          DP017-EDITED-MDY-DATE-SLASH-2 TO TRUE.                      CL**6
00042                                                                      CL**4
00043      MOVE DP017-CURRENT-DATE-MDY-X TO                                CL**4
00044                DP017-CURRENT-DATE-MMDDYYYY-X.                        CL**4
00045      MOVE DP017-EDITED-DATE-MDY TO DP017-EDITED-DATE-MMDDYYYY.       CL**4
00046      MOVE DP017-CURRENT-YEAR-YYYY TO DP017-CURRENT-MDY-YYYY          CL**7
00047                                      DP017-EDITED-MDY-YYYY.          CL**7
00048                                                                      CL**4
00049      MOVE DP017-CURRENT-TIME-HOUR TO DP017-EDITED-TIME-HOUR.         CL**4
00050      MOVE DP017-CURRENT-TIME-MINUTE TO DP017-EDITED-TIME-MINUTE.     CL**4
00051      MOVE DP017-CURRENT-TIME-SECOND TO DP017-EDITED-TIME-SECOND.     CL**4
00052      SET DP017-EDITED-TIME-COLON-1                                   CL**4
00053          DP017-EDITED-TIME-COLON-2 TO TRUE.                          CL**4
00054 *DP017-0000-EXIT.                                                 DPPD017 
