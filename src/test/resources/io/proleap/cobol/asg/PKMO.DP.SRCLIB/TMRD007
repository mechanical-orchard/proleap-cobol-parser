000100******************************************************************00010002
000200*    COPY MEMBER:  TMRD007                       LRECL = 800     *00020058
000300*                                                                *00030002
000400*    THIS MEMBER IS USED AS A FILE LAYOUT FOR TROUBLE CENTRAL    *00040002
000500*    PROCESSING AND AUTO ACKNOWLEDGE PROCESSING IN BATCH.        *00050003
000600*    (IT WAS CLONED FROM THE COMMAREA TMWS500 FOR CICS TROUBLE   *00060002
000700*    PROCESSING).                                                *00070002
000800*                                                                *00080002
000900******************************************************************00090002
001000*                                                                 00100000
001100 01  TM007-COMMUNICATIONS-AREA.                                   00110034
001200     05  TM007-KEYS.                                              00120014
001300         10  TM007-PO-NBR                PIC S9(9) COMP.          00130004
001400         10  TM007-REC-SEQ-NBR           PIC S9(9) COMP.          00140004
001500         10  TM007-OPER-UNT-ID           PIC S9(4) COMP.          00150017
001600         10  TM007-NOTIF-NBR             PIC S9(9) COMP.          00160014
001700         10  TM007-TRBL-RSN-CDE          PIC  S9(4) COMP.         00170023
001800         10  TM007-WAIT-TIME-UNIT        PIC X(04).               00180048
001900         10  TM007-MAINTENANCE-IND       PIC X(01).               00190041
002000             88  TM007-UPDATE                      VALUE 'U'.     00200038
002100             88  TM007-INSERT                      VALUE 'I'.     00210038
002200         10  TM007-ENVIRONMENT-SW        PIC X(01).               00220033
002300             88  TM007-CALLED-FROM-CICS-YES        VALUE 'Y'.     00230046
002400             88  TM007-CALLED-FROM-CICS-NO         VALUE 'N'.     00240009
002500         10  TM007-PROCESS-IND           PIC X(03).               00250033
002600             88  TM007-DO-CURRENT-PROCESS          VALUE 'PRO'.   00260025
002700             88  TM007-ACKNL-ONLY                  VALUE 'ACK'.   00270025
002800             88  TM007-ACKNL-AND-FAIL              VALUE 'FAL'.   00280040
002900         10  TM007-STATUS-IND            PIC X(05).               00290037
003000             88  TM007-WAIT-STATUS                 VALUE 'WAIT '. 00300037
003100             88  TM007-FAIL-STATUS                 VALUE 'FAIL '. 00310037
003200             88  TM007-CMPLT-STATUS                VALUE 'CMPLT'. 00320037
003300             88  TM007-ERROR-STATUS                VALUE 'ERROR'. 00330037
003400         10  TM007-DISTRO-REQUIREMENT    PIC X(03).               00340033
003500             88  TM007-REDISTRO-REQUIRED       VALUE '222'.       00350044
003600**               THIS FIELD BELOW NEEDS TO BE FILLED IN           00360018
003700**               WITH SOME MEANINGFUL VALUE IN THE FUTURE,        00370018
003800**               RIGHT NOW - THIS VALUE IS COMPLETELY ARBITRARY ! 00380018
003900             88  TM007-NO-REDISTRO-REQUIRED    VALUE '888'.       00390044
004000         10  TM007-RETURN-STATUS         PIC X(01).               00400033
004100             88  TM007-ACKNOWD                 VALUE 'S'.         00410019
004200             88  TM007-ACKNOWD-REDISTRO-DONE   VALUE 'D'.         00420019
004300             88  TM007-ACKNOW-FAILED           VALUE 'A'.         00430019
004400             88  TM007-AUTO-REDISTRO-FAILED    VALUE 'F'.         00440050
004500             88  TM007-RESOLUTION-FAILED       VALUE 'E'.         00450028
004600     05  TM007-RETURN-SQL                PIC X(01).               00460051
004700             88  TM007-SQL-SUCCESSFUL          VALUE '0'.         00470051
004800             88  TM007-SQL-CONTENTION          VALUE '1'.         00480051
004900             88  TM007-SQL-UNRECOVERABLE-ERROR VALUE '2'.         00490051
004910                                                                  00491059
004920** !!! IMPORTANT NOTE RE: TM007-RETURN-CODE !!!                   00492059
004930**     IT IS A CONVENTION IN SOME OF THE PROGRAMS THAT WERE       00493059
004940**     CLONED FOR THE AUTO ACKNOWLEDGE PROCESS TO PUT AN          00494059
004950**     ARBITRARY 2 BYTE ALPHANUMERIC IN THE TM007-RETURN-CODE.    00495059
004951**     THIS APPARENTLY SERVED AS A PLACE MARKER TO DESIGNATE      00495159
004952**     THE CURRENT INSTRUCTIONS BEING EXECUTED AT THE TIME OF     00495259
004953**     ABEND - THOUGH THE SUBROUTINE PARAGRAPH NUMBER AND         00495359
004954**     MODULE NAME SHOULD BE PASSED UP ALONG THE PATH BACK TO     00495459
004955**     THE ORIGINAL CALLING PROGRAM. FOR PURPOSE OF CONTINUITY,   00495559
004960**     SOME OF THE BATCH PROGRAMS ALSO UTILIZE THE RETURN-CODE    00496059
004970**     IN THE SAME MANNER - SO IF THERE IS ANY POSSIBILITY OF     00497059
004980**     88 LEVELS BEING ADDED (BEYOND TM007-CALL-SUCCESSFUL),      00498059
004990**     VERY CAREFUL CONSIDERATION SHOULD BE MADE AS TO WHETHER    00499059
004991**     THE POSSIBILITY EXISTS THAT A SITUATION MAY BE CREATED     00499159
004992**     WHERE AN 'ARBITRARY' NUMBER IN THE TM007-RETURN-CODE       00499259
004993**     MAY INDEED BE SETTING A SWITCH TO TRUE IN THE 88 LEVEL,    00499359
004994**     THUS UNINTENTIONALLY CHANGING THE PROCESS COURSE OR        00499459
004995**     PROGRAM DIRECTION.                                         00499559
004998                                                                  00499859
005000     05  TM007-RETURN-DATA.                                       00500051
005100         10  TM007-RETURN-CODE           PIC X(02).               00510055
005110** SEE NOTE ABOVE  **                                             00511060
005200             88  TM007-CALL-SUCCESSFUL         VALUE '00'.        00520051
006700                                                                  00670012
006800         10  TM007-RETURN-MSG            PIC X(40).               00680054
006810                                                                  00681057
006820     05  TM007-RETURN-DATA-2.                                     00682057
006900         10  TM007-SQLCODE               PIC S9(09) COMP-3.       00690053
007000         10  TM007-SQLCA                 PIC X(150).              00700045
007100         10  TM007-CALLED-MODULE         PIC X(08).               00710045
007200         10  TM007-RETURNED-PARA         PIC X(30).               00720045
007300                                                                  00730007
007400     05  TM007-COMMAREA                  PIC X(01).               00740036
007500     05  TM007-AUTO-ACK-PGM              PIC X(08)                00750036
007600                                               VALUE 'TMKUT500'.  00760030
004600     05  TM007-EMAIL-RETURN              PIC X(01).               00761061
004700             88  TM007-EMAIL-NONE              VALUE '0'.         00762061
004800             88  TM007-EMAIL-CONTENTION        VALUE '1'.         00763061
004900             88  TM007-EMAIL-ERROR             VALUE '2'.         00764061
007700     05  FILLER                          PIC X(520).              00770061
