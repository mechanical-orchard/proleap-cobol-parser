      ***************************************************************** 00010010
      *    MLRD070 - ML'S COMMON RECALC EXTRACT                         00020010
28582 *    RECORD LENGTH - 400 BYTES                                    00030017
      *                                                                 00040010
      *CHANGE HISTORY:                                                  00050010
      * WR/PROJ  DATE        DESCRIPTION OF CHANGES                     00060010
      * -------  ----------  ----------------------------------------   00070010
W28582* W28582   12/08/2005  ADD LBL-SEQ-NBR & ML-LWST-ID FIELDS.       00080010
W28582*                      C. MCCAMMON                                00090010
28582 * 28582    09/05/2006  DATA SMOOTHING AT DEPT/BRAND/VEND LEVEL.   00100017
28582 *                      ROD JANSSEN                                00110017
28582 * 28582    09/05/2006  DATA SMOOTHING - SCOPE CREEP               00111017
28582 *                      ROD JANSSEN                                00112017
28582 * 28582    11/15/2006  DATA SMOOTHING - ADD CUM-TO-DATE-PURCH-RTL 00113017
28582 *                      AND CUM-TO-DATE-PURCH-COST                 00114017
28582 *                      JOHN SELWITSCHKA                           00115017
I28582* 28582   03-19-2007 ROD JANSSEN ADD TEST ID FOR SMOOTHING LEVEL  00116020
      ***************************************************************** 00120010
       01  ML070-COMMON-RECALC-EXTRACT.                                 00130010
      *                                                                 00140010
      * THE TYPE OF DATA SECTION WILL CONTAIN A NUMBER INDICATING       00150010
      * WHICH SECTION OF THIS LAYOUT HAS DATA.  EACH TYPE IS SET TO     00160010
      * A VALUE THAT ONLY 1 BIT OF THE WORD IS SET.                     00170010
      * FOR EXAMPLE:                                                    00180010
      *   PREVIOUS FISCAL PERIOD DATA TYPE WOULD HAVE THE 1S BIT SET    00190010
      *     XXXXXXXX XXXXXXX1   OR 1, IF NO OTHER TYPE IS INVOLVED      00200010
      *   CURRENT FISCAL PERIOD DATA TYPE WOULD HAVE THE 2ND BIT SET    00210010
      *     XXXXXXXX XXXXXX1X   OR 2, IF NO OTHER TYPE IS INVOLVED      00220010
      *   WHEN ALL PUT TOGETHER, IF CURRENT AND PREVIOUS DATA EXIST     00230010
      *     XXXXXXXX XXXXXX11   OR 3, IF NO OTHER TYPE IS INVOLVED      00240010
      *                                                                 00250010
           05  ML070-TYPE-DATA.                                         00260010
               10  ML070-TYPE              PIC S9(04)      VALUE ZEROES 00270010
                               COMP.                                    00280010
                   88  ML070-PREV-FISCAL-TYPE              VALUE +1.    00290010
                   88  ML070-CURR-FISCAL-TYPE              VALUE +2.    00300010
                   88  ML070-SEASON-TO-DATE-TYPE           VALUE +4.    00310010
                   88  ML070-BEG-SEASON-TYPE               VALUE +8.    00320010
                   88  ML070-SHRINK-TYPE-TYPE              VALUE +16.   00330010
                   88  ML070-PREV-FISCAL-EXIST             VALUES ARE   00340010
                       +1, +3, +5, +7, +9, +11, +13, +15.               00350010
                   88  ML070-CURR-FISCAL-EXIST             VALUES ARE   00360010
                       +2, +3, +6, +7, +10, +11, +14, +15.              00370010
                   88  ML070-SEASON-TO-DATE-EXIST          VALUES ARE   00380010
                       +4, +5, +6, +7, +12, +13, +14, +15.              00390010
                   88  ML070-BEG-SEASON-EXIST              VALUES ARE   00400010
                       +8 THRU +15.                                     00410010
                   88  ML070-SHRINK-AND-CURR-EXIST         VALUES ARE   00420010
                       +18, +19, +22, +23, +26, +27, +30, +31.          00430010
               10  FILLER                  PIC X(06)       VALUE SPACES.00440010
      *                                                                 00490010
      * THE KEY SECTION WILL CONTAIN THE VARIOUS DRIVING KEY.  IF THE   00500010
      * DATA DOES NOT CARE OR DOES NOT EXIST AT A PARTICULAR LEVEL,     00510010
      * THE FIELD WILL CONTAIN ZEROES OR SPACES, DEPENDING ON DATA TYPE.00520010
      *                                                                 00530010
           05  ML070-KEY-DATA.                                          00540010
               10  ML070-PARTN-NBR         PIC S9(4)       VALUE ZEROES 00550010
                               COMP.                                    00560010
               10  ML070-FSCL-PERIOD       PIC X(02)       VALUE SPACES.00570010
               10  ML070-FSCL-END-DTE      PIC X(10)       VALUE SPACES.00580010
               10  ML070-DEPT-NBR          PIC S9(4)       VALUE ZEROES 00590010
                               COMP-3.                                  00600010
               10  ML070-MAJ-CL-NBR        PIC S9(4)       VALUE ZEROES 00610010
                               COMP-3.                                  00620010
               10  ML070-SUB-CL-NBR        PIC S9(4)       VALUE ZEROES 00630010
                               COMP-3.                                  00640010
               10  ML070-LOC-NBR           PIC S9(4)       VALUE ZEROES 00650010
                               COMP.                                    00660010
               10  ML070-ENT-ID            PIC S9(9)       VALUE ZEROES 00670010
                               COMP.                                    00680010
               10  ML070-PARTN-GROUP       PIC S9(4)       VALUE ZEROES 00690010
                               COMP.                                    00700010
W28582         10  ML070-LBL-SEQ-NBR       PIC S9(9)       VALUE ZEROES 00710010
W28582                         COMP.                                    00720010
W28582         10  ML070-ML-LWST-ID        PIC S9(9)       VALUE ZEROES 00730010
W28582                         COMP.                                    00740010
W28582         10  FILLER                  PIC X(09)       VALUE SPACES.00750010
      *                                                                 00760010
      * PREVIOUS SECTION WILL INITIALLY CONTAIN DATA AS OF THE END OF   00770010
      * THE PRIOR FISCAL MONTH, BUT THE RECALC PROGRAM WILL COMPLETE    00780010
      * THE PICTURE TO PREVIOUS WEEK'S DATA FOR WEEKLY LEVEL TABLES.    00790010
      *                                                                 00800010
           05  ML070-PREV-FISCAL-DATA.                                  00810010
               10  ML070-PREV-END-INV-RTL-AMT                           00820010
                                           PIC S9(11)V9(2) VALUE ZEROES 00830010
                               COMP-3.                                  00840010
               10  ML070-PREV-END-INV-COST-AMT                          00850010
                                           PIC S9(11)V9(2) VALUE ZEROES 00860010
                               COMP-3.                                  00870010
               10  FILLER                  PIC X(18)       VALUE SPACES.00880010
      *                                                                 00890010
      * CURRENT SECTION WILL CONTAIN DATA FOR CURRENT FISCAL PERIOD     00900010
      * WHICH CAN BE WEEK-TO-DATE FOR MONTHLY OR WEEKLY'S DATA.         00910010
      *                                                                 00920010
           05  ML070-CURR-FISCAL-DATA.                                  00930010
               10  ML070-CURR-RCPT-RTL-AMT PIC S9(11)V9(2) VALUE ZEROES 00940010
                               COMP-3.                                  00950010
               10  ML070-CURR-PADJ-RTL-AMT PIC S9(11)V9(2) VALUE ZEROES 00960010
                               COMP-3.                                  00970010
               10  ML070-CURR-MKUP-RTL-AMT PIC S9(11)V9(2) VALUE ZEROES 00980010
                               COMP-3.                                  00990010
               10  ML070-CURR-MKDN-RTL-AMT PIC S9(11)V9(2) VALUE ZEROES 01000010
                               COMP-3.                                  01010010
               10  ML070-CURR-XFER-IN-RTL-AMT                           01020010
                                           PIC S9(11)V9(2) VALUE ZEROES 01030010
                               COMP-3.                                  01040010
               10  ML070-CURR-XFER-OUT-RTL-AMT                          01050010
                                           PIC S9(11)V9(2) VALUE ZEROES 01060010
                               COMP-3.                                  01070010
               10  ML070-CURR-SLS-RTL-AMT  PIC S9(11)V9(2) VALUE ZEROES 01080010
                               COMP-3.                                  01090010
               10  ML070-CURR-INV-ADJ-RTL-AMT                           01100010
                                           PIC S9(11)V9(2) VALUE ZEROES 01110010
                               COMP-3.                                  01120010
               10  ML070-CURR-SHNK-RTL-AMT PIC S9(11)V9(2) VALUE ZEROES 01130010
                               COMP-3.                                  01140010
               10  ML070-CURR-END-INV-RTL-AMT                           01150010
                                           PIC S9(11)V9(2) VALUE ZEROES 01160010
                               COMP-3.                                  01170010
               10  ML070-CURR-CUM-MKUP-PCT PIC S9(04)V9(7) VALUE ZEROES 01180010
                               COMP-3.                                  01190010
               10  ML070-CURR-END-INV-COST-AMT                          01200010
                                           PIC S9(11)V9(2) VALUE ZEROES 01210010
                               COMP-3.                                  01220010
               10  ML070-CURR-SLS-COST-AMT PIC S9(11)V9(2) VALUE ZEROES 01230010
                               COMP-3.                                  01240010
               10  ML070-CURR-GRO-MRGN-AMT PIC S9(11)V9(2) VALUE ZEROES 01250010
                               COMP-3.                                  01260010
               10  ML070-CURR-RCPT-NET-COST-AMT                         01270010
                                           PIC S9(11)V9(2) VALUE ZEROES 01280010
                               COMP-3.                                  01290010
               10  ML070-CURR-PADJ-NET-COST-AMT                         01300010
                                           PIC S9(11)V9(2) VALUE ZEROES 01310010
                               COMP-3.                                  01320010
               10  FILLER                  PIC X(13)       VALUE SPACES.01330010
      *                                                                 01340010
      * SEASON-TO-DATE SECTION WILL CONTAIN SEASON-TO-DATE DATA AS WELL 01350010
      * AS ANY PRIOR WEEKS' DATA FOR WEEKLY TABLE STRUCTURES.           01360010
      *                                                                 01370010
           05  ML070-SEASON-TO-DATE-DATA.                               01380010
               10  ML070-SEAS-RCPT-RTL-AMT PIC S9(11)V9(2) VALUE ZEROES 01390010
                               COMP-3.                                  01400010
               10  ML070-SEAS-RCPT-NET-COST-AMT                         01410010
                                           PIC S9(11)V9(2) VALUE ZEROES 01420010
                               COMP-3.                                  01430010
               10  ML070-SEAS-PADJ-RTL-AMT PIC S9(11)V9(2) VALUE ZEROES 01440010
                               COMP-3.                                  01450010
               10  ML070-SEAS-PADJ-NET-COST-AMT                         01460010
                                           PIC S9(11)V9(2) VALUE ZEROES 01470010
                               COMP-3.                                  01480010
               10  ML070-SEAS-MKUP-RTL-AMT PIC S9(11)V9(2) VALUE ZEROES 01490010
                               COMP-3.                                  01500010
               10  ML070-SEAS-XFER-IN-RTL-AMT                           01510010
                                           PIC S9(11)V9(2) VALUE ZEROES 01520010
                               COMP-3.                                  01530010
               10  ML070-SEAS-XFER-OUT-RTL-AMT                          01540010
                                           PIC S9(11)V9(2) VALUE ZEROES 01550010
                               COMP-3.                                  01560010
               10  FILLER                  PIC X(15)       VALUE SPACES.01570010
      *                                                                 01580010
      * BEGINNING SEASON SECTION WILL CONTAIN THE BEGINNING OF THE      01590010
      * SEASON'S VALUE OR THE END OF LAST SEASON'S VALUE.               01600010
      *                                                                 01610010
           05  ML070-BEG-SEASON-DATA.                                   01620010
               10  ML070-BEG-SEAS-INV-RTL-AMT                           01630010
                                           PIC S9(11)V9(2) VALUE ZEROES 01640010
                               COMP-3.                                  01650010
               10  ML070-BEG-SEAS-INV-COST-AMT                          01660010
                                           PIC S9(11)V9(2) VALUE ZEROES 01670010
                               COMP-3.                                  01680010
               10  FILLER                  PIC X(10)       VALUE SPACES.01690010
      *                                                                 01700010
      * SHRINK IS EITHER AT THE APPROPRIATE LEVEL OR WILL NEED TO       01710010
      * BE PRORATED.  SHRINK IS CURRENTLY AT DEPT/SUB-CLASS/STORE/DATE  01720010
      * AND THUS ANYTHING SUCH AS VENDOR/ENT-ID WILL NEED TO ACTUALLY   01730010
      * CALCULATE THE CORRECT SHRINK.                                   01740010
      * FOR EXAMPLE:                                                    01750010
      *   AT A DEPT/MAJ-CLASS/VENDOR LEVEL, THE SHRINK DATA SECTION     01760010
      *   WILL CONTAIN SHRINK AT DEPT/MAJ-CLASS ONLY.                   01770010
      *                                                                 01780010
           05  ML070-SHRINK-DATA.                                       01790010
               10  ML070-SHNK-RTL-AMT      PIC S9(11)V9(2) VALUE ZEROES 01800010
                               COMP-3.                                  01810010
               10  ML070-SHNK-SLS-RTL-AMT  PIC S9(11)V9(2) VALUE ZEROES 01820010
                               COMP-3.                                  01830010
               10  FILLER                  PIC X(10)       VALUE SPACES.01840010
28582 *                                                                 01880017
28582 * DATA SMOOTHING                                                  01890017
28582 *                                                                 01900017
28582      05  ML070-SMOOTH-DATA.                                       01910017
28582          10  ML070-INV-COST-ADJ1     PIC S9(11)V9(2) VALUE ZEROES 01920017
28582                          COMP-3.                                  01930017
28582          10  ML070-INV-COST-ADJ2     PIC S9(11)V9(2) VALUE ZEROES 01940017
28582                          COMP-3.                                  01950017
28582          10  ML070-END-INV-COST-AMT1 PIC S9(11)V9(2) VALUE ZEROES 01960017
28582                          COMP-3.                                  01970017
28582          10  ML070-END-INV-COST-AMT2 PIC S9(11)V9(2) VALUE ZEROES 01980017
28582                          COMP-3.                                  01990017
28582          10  ML070-OUTLYER-CANDI-IND PIC X(01)       VALUE '0'.   02000017
28582              88  ML070-OUTLYER-CANDIDATES VALUE '1' '2' '3' '4'   02010017
R28582                                                '5' '6' '7' '8'.  02010118
28582              88  ML070-NONOUTLYER-CANDIDATE          VALUE '0'.   02011017
28582              88  ML070-OUTLYER-CMU-SMOOTH            VALUE '1'.   02012017
28582              88  ML070-OUTLYER-GM-SMOOTH             VALUE '2'.   02013017
28582              88  ML070-OUTLYER-OTHER-SMOOTH          VALUE '3'.   02014017
28582              88  ML070-SMOOTH-CANDI-4                VALUE '4'.   02015017
28582              88  ML070-SMOOTH-CANDI-5                VALUE '5'.   02016017
28582              88  ML070-SMOOTH-CANDI-6                VALUE '6'.   02017017
28582              88  ML070-SMOOTH-CANDI-7                VALUE '7'.   02018017
28582              88  ML070-SMOOTH-CANDI-8                VALUE '8'.   02019017
28582              88  ML070-NON-SMOOTH-CANDIDATE          VALUE '9'.   02019117
28582          10  ML070-TGT-CUM-MKUP-PCT  PIC S9(04)V9(7) VALUE ZEROES 02020017
28582                          COMP-3.                                  02030017
28582          10  ML070-ADJ-GRO-MRGN-AMT  PIC S9(11)V9(2) VALUE ZEROES 02040017
28582                          COMP-3.                                  02050017
28582          10  ML070-SEAS-INV-COST-ADJ1 PIC S9(11)V9(2) VALUE ZEROS 02051017
28582                          COMP-3.                                  02052017
28582          10  ML070-SEAS-INV-COST-ADJ2 PIC S9(11)V9(2) VALUE ZEROS 02053017
28582                          COMP-3.                                  02054017
28582          10  ML070-CUM-TO-DATE-PURCH-RTL                          02055017
28582                                      PIC S9(11)V9(2) VALUE ZEROES 02055117
28582                          COMP-3.                                  02056017
28582          10  ML070-CUM-TO-DATE-PURCH-COST                         02057017
28582                                      PIC S9(11)V9(2) VALUE ZEROES 02057117
28582                          COMP-3.                                  02058017
I28582         10  ML070-SMOOTH-ID-AREA.                                02059020
I28582             15  ML070-LVL1-SMOOTH-IND  PIC X(01)    VALUE SPACE. 02059120
I28582             15  ML070-LVL2-SMOOTH-IND  PIC X(01)    VALUE SPACE. 02060020
I28582             15  ML070-LVL3-SMOOTH-IND  PIC X(01)    VALUE SPACE. 02061020
I28582             15  ML070-LVL4-SMOOTH-IND  PIC X(01)    VALUE SPACE. 02062020
28582 *                                                                 02070017
I28582     05  FILLER                      PIC X(02)       VALUE SPACES.02080020
28582 *                                                                 02090017
