090011 01  SEPHORA-SWITCHES.                                            00020001
068540     05  PS-SEPHORA-SW             PIC X    VALUE 'N'.            00030008
068550         88  PS-SEPHORA-AT-KOHLS            VALUE 'K'.            00040008
068560         88  PS-SEPHORA-OTHER               VALUE 'S'.            00050009
068560         88  PS-NOT-SEPHORA                 VALUE 'N'.            00051008
068560         88  PS-SEPHORA-ALL                 VALUES 'K', 'S'.      00052015
068570     05  PS-FETCH-DEPT-SW          PIC X    VALUE 'N'.            00060012
068580         88  PS-DEPT-END-YES                VALUE 'Y'.            00070012
068590         88  PS-DEPT-END-NO                 VALUE 'N'.            00080012
068600                                                                  00120001
090011 01  SEPHORA-VARIABLES.                                           00121001
068540     05  PV-ENT-ID                 PIC  S9(9) COMP.               00122001
068540     05  PV-DEPT-NBR               PIC  X(3).                     00122103
068600                                                                  00123001
090011 01  SEPHORA-DEPT-TABLE.                                          00130001
090020     05 PV-SEPHORA-ENTRIES   OCCURS 25  TIMES  INDEXED BY SA-IDX. 00140006
090030       15 PV-SEPHORA-DEPT          PIC X(3) VALUE SPACES.         00150001
090040                                                                  00160001
115000 01  SEPHORA-ABEND-AREA.                                          00161004
115100     05  SA-ABEND-LIT            PIC X(40)  VALUE                 00162004
115200             '*****       ABEND IN SEPHORA LOGIC'.                00163004
115300     05  SA-PROGRAM-LIT.                                          00164005
115400         10 FILLER               PIC X(18)  VALUE                 00165004
115400             '*****   PROGRAM: '.                                 00165107
115800         10  SA-PROGRAM-NAME     PIC X(10)  VALUE SPACES.         00165204
115500     05  SA-PARAGRAPH-LIT.                                        00166004
115600         10  FILLER              PIC X(17)  VALUE                 00167004
115700             '***** PARAGRAPH: '.                                 00168004
115800         10  SA-PARAGRAPH-NAME   PIC X(35)  VALUE SPACES.         00169004
115900     05  SA-MESSAGE-LINE.                                         00169104
116000         10  FILLER              PIC X(6)   VALUE '*****'.        00169204
116100         10  SA-MESSAGE          PIC X(127) VALUE SPACES.         00169304
117000     05  SA-DB2-ERROR-LIT        PIC X(40)  VALUE                 00170204
117100             '*****    DB2 ERROR'.                                00170304
117200     05  SA-DB2-OPERATION-LIT.                                    00170404
117300         10  FILLER              PIC X(17)  VALUE                 00170504
117400             '***** OPERATION: '.                                 00170604
117500         10  SA-DB2-OPERATION    PIC X(50)  VALUE SPACES.         00170704
117800     05  SA-DB2-TABLE-1          PIC X(8)   VALUE SPACES.         00171004
117900     05  SA-DB2-TABLE-2          PIC X(8)   VALUE SPACES.         00171104
109600                                                                  00172001
114100 01  SA-ABEND-CODE               PIC S9(4)  VALUE ZERO COMP SYNC. 00173004
114300     88  SA-TABLE-OVERFLOW                  VALUE +4004.          00175004
114600     88  SA-DB2-ERROR                       VALUE +4013.          00178004
109600                                                                  00179104
109610*----------------------------------------------------------------*00180001
109620*    SEPHORA DEPT CURSOR TO SELECT 'SEPHORA @ KOHLS' DEPTS        00190001
109630*    NOTE THAT THERE ARE SEPHORA VENDORS IN OTHER DEPTS - THOSE   00200001
109640*    ARE TREATED AS ANY OTHER KOHL'S VENDOR                       00210001
109650*----------------------------------------------------------------*00220001
109660     EXEC SQL                                                     00230001
109670         DECLARE SEPHORA_DEPT_CSR CURSOR FOR                      00240001
109680             SELECT DEPT_NBR                                      00250001
109690             FROM   TMDSEAR                                       00260001
109691             WHERE  DMA_NBR = '50'                                00270001
109692               AND  MDSELV_CDE = 'DPT'                            00280001
109693                AND STRT_DTE      <= CURRENT DATE                 00290001
109694                AND END_DTE       >= CURRENT DATE                 00300001
109695             ORDER BY DEPT_NBR                                    00310001
109696     END-EXEC.                                                    00320001
