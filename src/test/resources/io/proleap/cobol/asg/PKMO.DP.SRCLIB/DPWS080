00001  01  TCP-IP-SOCKET-COMMANDS.                                      03/29/93
00002      05 INITAPI-CMD                      PIC  9(04) VALUE 0       DPWS080 
00003                                                     COMP.            LV031
00004      05 ACCEPT-CMD                       PIC  9(04) VALUE 1          CL*17
00005                                                     COMP.         DPWS080 
00006      05 BIND-CMD                         PIC  9(04) VALUE 2          CL*17
00007                                                     COMP.         DPWS080 
00008      05 CLOSE-CMD                        PIC  9(04) VALUE 3          CL*17
00009                                                     COMP.         DPWS080 
00010      05 CONNECT-CMD                      PIC  9(04) VALUE 4          CL*17
00011                                                     COMP.         DPWS080 
00012      05 FCNTL-CMD                        PIC  9(04) VALUE 5          CL*17
00013                                                     COMP.         DPWS080 
00014      05 LISTEN-CMD                       PIC  9(04) VALUE 13         CL*17
00015                                                     COMP.         DPWS080 
00016      05 READ-CMD                         PIC  9(04) VALUE 14         CL*17
00017                                                     COMP.         DPWS080 
00018      05 RECV-CMD                         PIC  9(04) VALUE 16         CL*17
00019                                                     COMP.         DPWS080 
00020      05 SELECT-CMD                       PIC  9(04) VALUE 19         CL*17
00021                                                     COMP.         DPWS080 
00022      05 SELECTX-CMD                      PIC  9(04) VALUE 19         CL*17
00023                                                     COMP.         DPWS080 
00024      05 SEND-CMD                         PIC  9(04) VALUE 20         CL*17
00025                                                     COMP.         DPWS080 
00026      05 SEND-TO-CMD                      PIC  9(04) VALUE 22         CL*17
00027                                                     COMP.         DPWS080 
00028      05 SOCKET-CMD                       PIC  9(04) VALUE 25         CL*17
00029                                                     COMP.         DPWS080 
00030      05 WRITE-CMD                        PIC  9(04) VALUE 26         CL*17
00031                                                     COMP.         DPWS080 
00032      05 GETCLIENT-ID-CMD                 PIC  9(04) VALUE 30         CL*17
00033                                                     COMP.         DPWS080 
00034      05 GIVESOCKET-CMD                   PIC  9(04) VALUE 31         CL*17
00035                                                     COMP.         DPWS080 
00036      05 TAKESOCKET-CMD                   PIC  9(04) VALUE 32         CL*23
00037                                                     COMP.            CL*23
00038                                                                      CL**2
00039  01  TCP-IP-TOKENS.                                                  CL**2
00040      05  TCP-TOKEN                       PIC  X(16)  VALUE           CL**2
00041          'TCPIPIUCVSTREAMS'.                                         CL**2
00042      05  TOEBCDIC-TOKEN                  PIC  X(16)  VALUE           CL*22
00043          'TCPIPTOEBCDICXLT'.                                         CL**2
00044      05  TOASCII-TOKEN                   PIC  X(16)  VALUE           CL**2
00045          'TCPIPTOASCIIXLAT'.                                         CL**2
00046      05  BITMASK-TOKEN                   PIC  X(16)  VALUE           CL**7
00047          'TCPIPBITMASKCOBL'.                                         CL**7
00048                                                                      CL**3
00049  01  TCP-IP-LOGGING-MSG.                                             CL**5
00050      05  TCP-IP-PGM-NAME                 PIC  X(08)  VALUE SPACE.    CL**3
00051      05  FILLER                          PIC  X(03)  VALUE ' - '.    CL**3
00052      05  TCP-IP-ERR-MSG                  PIC  X(50)  VALUE SPACE.    CL**4
00053          88  TCP-IP-INITAPI-ERR                      VALUE           CL**4
00054              'INITIAL IUCV API FAIL - CAN NOT START CURRENT PGM '.   CL**3
00055          88  TCP-IP-READ-ERR                         VALUE           CL**4
00056              'RECEIVE FROM SOCKET FAILED                        '.   CL**3
00057          88  TCP-IP-SEND-TO-ERR                      VALUE           CL**4
00058              'SEND-TO SOCKET FAILED                             '.   CL**3
00059          88  TCP-IP-SEND-ERR                         VALUE           CL**4
00060              'SEND SOCKET FAILED                                '.   CL**3
00061          88  TCP-IP-CLOSE-ERR                        VALUE           CL**4
00062              'CLOSE SOCKET FAILED                               '.   CL**3
00063          88  TCP-IP-CONNECT-ERR                      VALUE           CL**4
00064              'CONNECT SOCKET CALL FAILED                        '.   CL**3
00065          88  TCP-IP-SOCKET-ERR                       VALUE           CL**4
00066              'SOCKET CALL FAILED - SOCKET                       '.   CL**3
00067          88  TCP-IP-TAKE-ERR                         VALUE           CL*10
00068              'TAKESOCKET FAILED                                 '.   CL*21
00069          88  TCP-IP-WRITE-ERR                        VALUE           CL*10
00070              'WRITE SOCKET FAILED                               '.   CL*21
00071          88  TCP-IP-SELECT-ERR                       VALUE           CL*21
00072              'SELECT SOCKET FAILED                              '.   CL*21
00073      05  FILLER                          PIC  X(10)  VALUE           CL**3
00074          'ERR NBR = '.                                               CL**3
00075 *    05  TCP-IP-ERR-NBR                  PIC  9(08)  VALUE ZEROS.    CL*28
00076      05  TCP-IP-ERR-NBR                  PIC  9(08).                 CL*28
00077      05  FILLER                          PIC  X(01)  VALUE SPACE.    CL**3
00078                                                                      CL**6
00079  01  TCP-IP-PARMS.                                                   CL*16
00080      05  TAKE-SOCKET                     PIC  9(08)  VALUE ZEROS     CL*17
00081                                                      COMP.           CL*17
00082      05  SOCKID                          PIC  9(04)  VALUE 1         CL*27
00083                                                      COMP.           CL*17
00084      05  SOCKID-FWD                      PIC  9(08)  VALUE ZEROS     CL*17
00085                                                      COMP.           CL*17
00086      05  CLIENTID-LSTN.                                              CL*16
00087          10 CID-DOMAIN-LSTN              PIC  9(08)  VALUE ZEROS     CL*16
00088                                                      COMP.           CL*16
00089          10 CID-NAME-LSTN                PIC  X(08)  VALUE SPACE.    CL*16
00090          10 CID-SUBTASKNAME-LSTN         PIC  X(08)  VALUE SPACE.    CL*16
00091          10 CID-RES-LSTN                 PIC  X(20)  VALUE SPACE.    CL*16
00092      05  PROTOCOL                        PIC  9(08)  VALUE ZEROS     CL*15
00093                                                      COMP.           CL**8
00094      05  SOCK-TYPE                       PIC  9(08)  VALUE 1         CL*15
00095                                                      COMP.           CL*15
00096      05  CSOCKET                         PIC  9(04)  VALUE ZEROS     CL*17
00097                                                      COMP.           CL*15
00098      05  CSOCKET-FWD                     PIC  9(08)  VALUE ZEROS     CL*17
00099                                                      COMP.           CL*15
00100      05  ERRNO                           PIC  9(08)  VALUE ZEROS     CL**8
00101                                                      COMP.           CL**8
00102      05  RETCODE                         PIC S9(08)  VALUE ZEROS     CL**8
00103                                                      COMP.           CL**8
00104      05  AF-INET                         PIC  9(08)  VALUE 2         CL**8
00105                                                      COMP.           CL**8
00106      05  CLENG                           PIC  9(04)  VALUE ZEROS     CL*15
00107                                                      COMP.           CL*15
00108      05  TCPSOCKET-PARM.                                             CL*30
00109          10  GIVE-TAKE-SOCKET            PIC  9(08)  VALUE ZEROS     CL*30
00110                                                      COMP.           CL*30
00111          10  LSTN-NAME                   PIC  X(08)  VALUE SPACE.    CL*30
00112          10  LSTN-SUBTASKNAME            PIC  X(08)  VALUE SPACE.    CL*30
00113          10  CLIENT-IN-DATA              PIC  X(35)  VALUE SPACE.    CL*30
00114          10  FILLER                      PIC  X(01)  VALUE SPACE.    CL*30
00115          10  SOCKADDR-IN2.                                           CL*30
00116              15  SIN-FAMILY2             PIC S9(04)  COMP.           CL*31
00117              15  SIN-PORT2               PIC  9(04).                 CL*31
00118              15  SIN-ADDR2               PIC S9(08)  COMP.           CL*31
00119              15  SIN-ZERO2               PIC  X(08).                 CL*31
00120 *                                                    LOW-VALUES.     CL*30
00121      05  TIMEVAL.                                                    CL*10
00122          10  TVSEC                       PIC  9(08)  VALUE 60        CL*10
00123                                                      COMP.           CL*10
00124          10  TVUSEC                      PIC  9(08)  VALUE ZEROS     CL*14
00125                                                      COMP.           CL*10
00126      05  TCPLENG                         PIC  9(08)  VALUE ZEROS     CL*14
00127                                                      COMP.           CL*11
00128      05  LENG                            PIC  9(04)  VALUE ZEROS     CL*15
00129                                                      COMP.           CL*15
00130      05  RECV-FLAG                       PIC  9(08)  VALUE ZEROS     CL*14
00131                                                      COMP.           CL*11
00132      05  SEND-TO-FLAG                    PIC  9(08)  VALUE ZEROS     CL*14
00133                                                      COMP.           CL*11
00134      05  ZERO-PARM                       PIC  X(16)  VALUE           CL*14
00135                                                      LOW-VALUES.     CL*14
00136      05  DUMMY-MASK  REDEFINES  ZERO-PARM.                           CL*14
00137          10 DUMYMASK                     PIC  X(08).                 CL*14
00138          10 ZERO-FLD-8                   PIC  X(08).                 CL*14
00139      05  ZERO-FLD  REDEFINES  ZERO-PARM.                             CL*14
00140          10 ZERO-FWRD                    PIC  9(08)  COMP.           CL*14
00141          10 ZERO-HWRD                    PIC  9(04)  COMP.           CL*14
00142          10 ZERO-DUM                     PIC  X(10).                 CL*14
00143      05  INITAPI-SOCKET.                                             CL*17
00144          10  INIT-API2                   PIC  X(08)  VALUE           CL*17
00145              'IUCVAPI '.                                             CL*17
00146          10  INIT-API3                   PIC  9(04)  VALUE 5         CL*17
00147                                                      COMP.           CL*17
00148          10  INIT-API4                   PIC  9(04)  VALUE 2         CL*17
00149                                                      COMP.           CL*17
00150          10  INIT-SUBTASKID.                                         CL*17
00151              15 SUBTASKNO                PIC  X(07)  VALUE           CL*17
00152                                                      LOW-VALUES.     CL*17
00153              15 SUBT-CHAR                PIC  X(01)  VALUE 'T'.      CL*17
00154          10  INIT-API6                   PIC  9(08)  VALUE ZEROS     CL*17
00155                                                      COMP.           CL*17
00156          10  MAX-SOCK-NUM                PIC  9(08)  VALUE 5         CL*17
00157                                                      COMP.           CL*17
00158          10  NFDS                        PIC  9(08)  VALUE ZEROS     CL*17
00159                                                      COMP.           CL*17
