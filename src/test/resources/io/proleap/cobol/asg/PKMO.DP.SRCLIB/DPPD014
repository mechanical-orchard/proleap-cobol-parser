00001 ******************************************************************07/14/95
00002 **     THIS PROCEDURE DIVISION COPY BOOK IS USED TO CALL THE    **DPPD014 
00003 ** CICS ABEND PROCESSOR FROM A NON-ARCHITECTURE PROGRAM.        **   LV001
00004 ** USE DPPD013 TO CALL THE ABEND PROCESSOR FROM AN ARCHITECTURE **DPPD014 
00005 ** PROGRAM.                                                     **DPPD014 
00006 **                                                              **DPPD014 
00007 ** OTHER COPYBOOKS TO INCLUDE:  DPWS013.                        **DPPD014 
00008 **                                                              **DPPD014 
00009 ** USAGE:                                                       **DPPD014 
00010 **   FILL THE APPROPRIATE FIELDS IN DPWS013 AND PERFORM         **DPPD014 
00011 ** DP014-0000-PROCESS-ABEND.  NOTE:  MAKE SURE                  **DPPD014 
00012 ** PC-CURRENT-PROGRAM-NAME IS DEFINED IN THE APPLICATION PROGRAM**DPPD014 
00013 ** AND HAS A VALUE EQUAL TO THE PROGRAM ID OF THE CURRENT       **DPPD014 
00014 ** PROGRAM.                                                     **DPPD014 
00015 **                                                              **DPPD014 
00016 ******************************************************************DPPD014 
00017                                                                   DPPD014 
00018  DP014-0000-PROCESS-ABEND.                                        DPPD014 
00019      MOVE PC-CURRENT-PROGRAM-NAME TO DP013-PROGRAM.               DPPD014 
00020      MOVE DFHEIBLK                TO DP013-DFHEIBLK.              DPPD014 
00021      INITIALIZE DP013-SRC-TASK-NUMBER                             DPPD014 
00022                 DP013-STACK.                                      DPPD014 
00023                                                                   DPPD014 
00024      IF  DP013-LINK-RETURN                                        DPPD014 
00025          EXEC CICS                                                DPPD014 
00026              LINK                                                 DPPD014 
00027                  PROGRAM  (DP013-NAME)                            DPPD014 
00028                  COMMAREA (DP013-PARAMETERS)                      DPPD014 
00029                  LENGTH   (DP013-LENGTH)                          DPPD014 
00030          END-EXEC                                                 DPPD014 
00031      ELSE                                                         DPPD014 
00032          EXEC CICS                                                DPPD014 
00033              XCTL                                                 DPPD014 
00034                  PROGRAM  (DP013-NAME)                            DPPD014 
00035                  COMMAREA (DP013-PARAMETERS)                      DPPD014 
00036                  LENGTH   (DP013-LENGTH)                          DPPD014 
00037          END-EXEC                                                 DPPD014 
00038      END-IF.                                                      DPPD014 
