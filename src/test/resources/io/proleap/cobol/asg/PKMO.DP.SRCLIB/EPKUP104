000100 IDENTIFICATION DIVISION.                                         00010004
000200                                                                  00020004
000300 PROGRAM-ID.      EPKUP104.                                       00030004
000400 AUTHOR.          STEVEN NOWAK.                                   00040004
000500 INSTALLATION.    KOHLS DEPARTMENT STORES.                        00050004
000600 DATE-WRITTEN.    07/15/09.                                       00060004
000700 DATE-COMPILED.                                                   00070004
000800                                                                  00080004
000900******************************************************************00090004
001000*  MODULE TYPE:   COBOL2 DB2 BATCH.                               00100004
001100*                                                                 00110004
001200*  DESCRIPTION: PROGRAM UPDATES THE LOC_ATTR TABLE WITH THE DATA  00120006
001300*               PULLED IN PROGRAM EPKUT023                        00130007
001400*                                                                 00140004
001500*========================== CHANGE LOG ===========================00150004
001600*  AUTH        BY           DATE    DESCRIPTION                   00160008
001700*=================================================================00170004
001800* WR36870     S. NOWAK    07-15-09  CREATE PROGRAM                00180008
001900*                                                                 00190004
260107* CHG0260107  JIM HUNTER  08-19-21  ADD COPYBOOK DPWS991 TO MAKE  00191008
260107*                                   THE CALL TO DPKUT901 DYNAMIC. 00192008
002000******************************************************************00200004
002100                                                                  00210004
002200 ENVIRONMENT DIVISION.                                            00220004
002300 CONFIGURATION SECTION.                                           00230004
002400                                                                  00240004
002500 SOURCE-COMPUTER.    IBM-3090.                                    00250004
002600 OBJECT-COMPUTER.    IBM-3090.                                    00260004
002700                                                                  00270004
002800 INPUT-OUTPUT SECTION.                                            00280004
002900 FILE-CONTROL.                                                    00290004
003000                                                                  00300004
003100 DATA DIVISION.                                                   00310004
003200 FILE SECTION.                                                    00320004
003300                                                                  00330004
003400                                                                  00340004
003500***************************************************************** 00350004
003600*                       WORKING STORAGE                           00360004
003700***************************************************************** 00370004
003800 WORKING-STORAGE SECTION.                                         00380004
003900                                                                  00390004
004000 01  W-START                          PIC  X(40)                  00400004
004100     VALUE 'EPKUP104 - WORKING STORAGE BEGINS HERE'.              00410004
004200                                                                  00420004
004300                                                                  00430004
004400***************************************************************** 00440004
004500*                         SWITCHES                                00450004
004600***************************************************************** 00460004
004700 01  PROGRAM-SWITCHES.                                            00470004
004800     05  PS-RESTART-REQUIRED-SW       PIC  X(01) VALUE 'N'.       00480004
004900         88  PS-RESTART-REQUIRED                 VALUE 'Y'.       00490004
005000         88  PS-RESTART-NOT-REQUIRED             VALUE 'N'.       00500004
005100                                                                  00510004
005200******************************************************************00520004
005300*                       ACCUMULATORS                              00530004
005400******************************************************************00540004
005500 01  PROGRAM-ACCUM.                                               00550004
005600     05  PA-READ                      PIC  9(11) VALUE ZEROS.     00560004
005700     05  PA-CKPT                      PIC  9(11) VALUE ZEROS.     00570004
005800                                                                  00580004
005900******************************************************************00590004
006000*                           CONSTANTS                             00600004
006100******************************************************************00610004
006200 01  PROGRAM-CONSTANTS.                                           00620004
006300     05  PC-MAX-RETRIES               PIC S9(04) VALUE +3         00630004
006400                                                 COMP SYNC.       00640004
006500     05  PC-MAX-DEADLOCKS             PIC S9(04) VALUE +3         00650004
006600                                                 COMP SYNC.       00660004
006700                                                                  00670004
006800     05  PC-CKPT-JOB-NAME             PIC  X(08) VALUE 'EPK332  '.00680005
006900     05  PC-CKPT-PLAN-NAME            PIC  X(08) VALUE 'EPKUP104'.00690004
007000     05  PC-PROGRAM-NAME              PIC  X(08) VALUE 'EPKUP104'.00700004
007100                                                                  00710004
007200     05  PC-TRAN-PRES-FUNC-CODES.                                 00720004
007300         10  PC-TRAN-PRES-FUNC-OPEN   PIC  X(05) VALUE 'OPEN '.   00730004
007400         10  PC-TRAN-PRES-FUNC-TRANS  PIC  X(05) VALUE 'TRANS'.   00740004
007500         10  PC-TRAN-PRES-FUNC-RSTRT  PIC  X(05) VALUE 'RSTRT'.   00750004
007600         10  PC-TRAN-PRES-FUNC-CLOSE  PIC  X(05) VALUE 'CLOSE'.   00760004
007700                                                                  00770004
007800     05  PC-MINUS-ONE                 PIC S9(01) VALUE -1.        00780004
007900     05  PC-SYSTEM                    PIC  X(08) VALUE 'SYSTEM  '.00790004
008000                                                                  00800004
008100******************************************************************00810004
008200*                          VARIABLES                              00820004
008300******************************************************************00830004
008400 01  PROGRAM-VARIABLES.                                           00840004
008500     05  PV-SQL-SUB                   PIC  9(03) VALUE ZERO.      00850004
008600     05  PV-DEADLOCK-COUNTER          PIC  9(03) VALUE ZERO.      00860004
008700     05  PV-PARAGRAPH-NAME            PIC  X(30) VALUE SPACE.     00870004
008800     05  PV-DB2-OPER-ATTEMPTED        PIC  X(30) VALUE SPACE.     00880004
008900     05  PV-OPERATION-MSG             PIC  X(35) VALUE SPACE.     00890004
009000     05  PV-RET-CODE                  PIC  9(04) VALUE ZEROS.     00900004
009100                                                                  00910004
009200******************************************************************00920004
009300*               SYSTEM TIME AND DATE VARIABLES                    00930004
009400******************************************************************00940004
009500 01  SYS-DATE-TIME.                                               00950004
009600     05  SYS-DATE                     PIC  X(08) VALUE SPACES.    00960004
009700     05  SYS-TIME                     PIC  X(08) VALUE SPACES.    00970004
009800                                                                  00980004
009900 01  ST-BEG-TIME.                                                 00990004
010000     05  ST-BEG-HR                    PIC  9(02) VALUE ZEROS.     01000004
010100     05  FILLER                       PIC  X(01) VALUE ':'.       01010004
010200     05  ST-BEG-MN                    PIC  9(02) VALUE ZEROS.     01020004
010300                                                                  01030004
010400 01  ST-END-TIME.                                                 01040004
010500     05  ST-END-HR                    PIC  9(02) VALUE ZEROS.     01050004
010600     05  FILLER                       PIC  X(01) VALUE ':'.       01060004
010700     05  ST-END-MN                    PIC  9(02) VALUE ZEROS.     01070004
010800                                                                  01080004
010900 01  SD-EDIT-DATE.                                                01090004
011000     05  SD-MONTH                     PIC  9(02) VALUE ZEROS.     01100004
011100     05  FILLER                       PIC  X(01) VALUE '-'.       01110004
011200     05  SD-DAY                       PIC  9(02) VALUE ZEROS.     01120004
011300     05  FILLER                       PIC  X(01) VALUE '-'.       01130004
011400     05  SD-CENT                      PIC  9(02) VALUE ZEROS.     01140004
011500     05  SD-YEAR                      PIC  9(02) VALUE ZEROS.     01150004
011600                                                                  01160004
011700******************************************************************01170004
011800*                        ERROR HANDLING                           01180004
011900******************************************************************01190004
012000 01  ABEND-CODE                       PIC S9(04) VALUE ZEROS      01200004
012100                                                 COMP SYNC.       01210004
012200     88  ABEND-4002-READ-ERROR                   VALUE +4002.     01220004
012300     88  ABEND-4013-DB2-ERROR                    VALUE +4013.     01230004
012400     88  ABEND-4019-CAL-SUB-ERROR                VALUE +4019.     01240004
012500                                                                  01250004
012600                                                                  01260004
012700******************************************************************01270004
012800* XST_SKU_LOC_ATTR REC LAYOUT                                     01280004
012900******************************************************************01290004
013000     COPY EPRD003.                                                01300004
013100                                                                  01310004
013200******************************************************************01320004
013300*  DB2 FORMATTED ERROR MESSAGE                                    01330004
013400******************************************************************01340004
013500     COPY DPWS004.                                                01350004
013600                                                                  01360004
013700******************************************************************01370004
013800*  SQL COMMUNICATIONS WORK AREA                                   01380004
013900******************************************************************01390004
014000     COPY SQLCA2.                                                 01400004
014100                                                                  01410004
014200******************************************************************01420004
014300*  COMMUNICATIONS AREA FOR DB2                                    01430004
014400******************************************************************01440004
014500     EXEC SQL                                                     01450004
014600         INCLUDE SQLCA                                            01460004
014700     END-EXEC.                                                    01470004
014800                                                                  01480004
014900******************************************************************01490004
015000* DB2 TABLE XST00031 - SKU LOCATION ATTRIBUTE TABLE               01500004
015100*                       (XST_SKU_LOC_ATTR)                        01510004
015200******************************************************************01520004
015300     EXEC SQL                                                     01530004
015400          INCLUDE XST00041                                        01540004
015500     END-EXEC.                                                    01550004
015600                                                                  01560004
015700******************************************************************01570004
015800*  TRANSACTION PREPARATION MODULE COMMUNICATIONS AREA             01580004
015900******************************************************************01590004
260107     COPY DPWS991.                                                01600008
016000                                                                  01601008
016000     COPY DPLS001.                                                01602008
016100     05  WORK-STORAGE-PASSED.                                     01610004
016200******************************************************************01620004
016300*PA - PROGRAM ACCUMULATORS                                        01630004
016400******************************************************************01640004
016500         10  PROGRAM-ACCUMULATORS.                                01650004
016600             15  PA-ROWS-UPDATED PIC S9(11)            VALUE ZERO 01660004
016700                                                       COMP-3.    01670004
016800                                                                  01680004
016900 01  FILLER                          PIC X(4096)  VALUE SPACE.    01690004
017000                                                                  01700004
017100                                                                  01710004
017200                                                                  01720004
017300 PROCEDURE DIVISION.                                              01730004
017400******************************************************************01740004
017500* MAINLINE-PROCESSING                                             01750004
017600******************************************************************01760004
017700                                                                  01770004
017800     PERFORM A100-INITIALIZE.                                     01780004
017900                                                                  01790004
018000     PERFORM B100-PROCESS-UPDATE-RECORDS                          01800004
018100       UNTIL DP001-PREP-TRANS-EOF.                                01810004
018200                                                                  01820004
018300     PERFORM Z990-EOJ-ROUTINE.                                    01830004
018400                                                                  01840004
018500     GOBACK.                                                      01850004
018600                                                                  01860004
018700                                                                  01870004
018800******************************************************************01880004
018900* PREFORMS TASK INITIATION                                        01890004
019000******************************************************************01900004
019100 A100-INITIALIZE.                                                 01910004
019200                                                                  01920004
019300     MOVE FUNCTION CURRENT-DATE TO SYS-DATE-TIME.                 01930004
019400                                                                  01940004
019500     MOVE SYS-TIME (1:2) TO ST-BEG-HR.                            01950004
019600     MOVE SYS-TIME (3:2) TO ST-BEG-MN.                            01960004
019700                                                                  01970004
019800     MOVE SYS-DATE (1:2) TO SD-CENT.                              01980004
019900     MOVE SYS-DATE (3:2) TO SD-YEAR.                              01990004
020000     MOVE SYS-DATE (5:2) TO SD-MONTH.                             02000004
020100     MOVE SYS-DATE (7:2) TO SD-DAY.                               02010004
020200                                                                  02020004
020300     MOVE PC-TRAN-PRES-FUNC-OPEN TO DP001-FUNC-CODE.              02030004
020400                                                                  02040004
020500     PERFORM X100-BUILD-COMM-AREA-TRAN-PRES.                      02050004
020600                                                                  02060004
020700                                                                  02070004
020800******************************************************************02080004
020900* PROCESS UPDATE RECORDS                                          02090004
021000******************************************************************02100004
021100 B100-PROCESS-UPDATE-RECORDS.                                     02110004
021200                                                                  02120004
021300     SET PS-RESTART-NOT-REQUIRED TO TRUE.                         02130004
021400                                                                  02140004
021500     PERFORM C100-UPDATE-FIELDS.                                  02150004
021600                                                                  02160004
021700*----------------------------------------------------------------*02170004
021800*  IF A RESTART IS REQUIRED, ISSUE A RESTART CALL RATHER THAN A  *02180004
021900*  TRANS CALL.  THIS WILL ALLOW PROCESSING TO RESUME WITH THE    *02190004
022000*  FIRST TRANSACTION AFTER THE LAST COMMIT.                      *02200004
022100*----------------------------------------------------------------*02210004
022200     IF  PS-RESTART-REQUIRED                                      02220004
022300         MOVE PC-TRAN-PRES-FUNC-RSTRT TO DP001-FUNC-CODE          02230004
022400     ELSE                                                         02240004
022500         MOVE PC-TRAN-PRES-FUNC-TRANS TO DP001-FUNC-CODE          02250004
022600     END-IF.                                                      02260004
022700                                                                  02270004
022800     PERFORM X100-BUILD-COMM-AREA-TRAN-PRES.                      02280004
022900                                                                  02290004
023000     ADD 1 TO PA-READ.                                            02300004
023100                                                                  02310004
023200                                                                  02320004
023300******************************************************************02330004
023400* UPDATES THE SKU_LOC FIELDS                                      02340004
023500******************************************************************02350004
023600 C100-UPDATE-FIELDS.                                              02360004
023700                                                                  02370004
023800     MOVE EP003-INTR-UPC-ID TO XST00041-INTR-UPC-ID.              02380004
023900     MOVE EP003-LOC-NBR     TO XST00041-LOC-NBR.                  02390004
024000                                                                  02400004
024100     PERFORM C200-UPDT-XST-TABLE.                                 02410004
024300                                                                  02430004
024400                                                                  02440004
024500******************************************************************02450004
024600* THIS SECTION WILL INSERT A ROW INTO THE XST TABLE               02460004
024700******************************************************************02470004
024800 C200-UPDT-XST-TABLE.                                             02480004
024900                                                                  02490004
025000     PERFORM WITH TEST AFTER                                      02500004
025100         VARYING PV-SQL-SUB                                       02510004
025200         FROM 1 BY 1                                              02520004
025300         UNTIL (PV-SQL-SUB > PC-MAX-RETRIES                       02530004
025400                OR SQLCODE = -904                                 02540004
025500                OR SQLCODE = -911                                 02550004
025600                OR SQLCODE = -913                                 02560004
025700                OR SQLCODE = 0)                                   02570004
025800                                                                  02580004
025900         EXEC SQL                                                 02590004
026000             UPDATE XST_SKU_LOC_ATTR                              02600004
026100             SET  PRMPT_FOR_PRIC_IND  =  'N'                      02610004
026200                 ,LAST_UPD_TMST       =  CURRENT TIMESTAMP        02620004
026300             WHERE INTR_UPC_ID = :XST00041-INTR-UPC-ID            02630004
026400               AND LOC_NBR     = :XST00041-LOC-NBR                02640004
026500         END-EXEC                                                 02650004
026600                                                                  02660004
026700         EVALUATE TRUE                                            02670004
026800             WHEN SQLCODE = 0                                     02680004
026900                 ADD +1 TO PA-ROWS-UPDATED                        02690004
027000                                                                  02700004
027100             WHEN SQLCODE = -904                                  02710004
027200             WHEN SQLCODE = -913                                  02720004
027300                  CONTINUE                                        02730004
027400                                                                  02740004
027500             WHEN SQLCODE = -911                                  02750004
027600                 ADD +1 TO PV-DEADLOCK-COUNTER                    02760004
027700                                                                  02770004
027800                 DISPLAY '                   '                    02780004
027900                 DISPLAY 'DEADLOCK INCOUNTERED -911'              02790004
028000                 DISPLAY 'DEADLOCK-COUNTER = ' PV-DEADLOCK-COUNTER02800004
028100                                                                  02810004
028200                 IF PV-DEADLOCK-COUNTER > PC-MAX-DEADLOCKS        02820004
028300                     MOVE 'C200-UPDT-XST-TABLE'                   02830004
028400                                      TO PV-PARAGRAPH-NAME        02840004
028500                     MOVE 'MAXIMUM DEADLOCKS EXCEEDED    '        02850004
028600                                      TO PV-DB2-OPER-ATTEMPTED    02860004
028700                     PERFORM Z200-SQL-ABEND                       02870004
028800                                                                  02880004
028900                 ELSE                                             02890004
029000                     SET PS-RESTART-REQUIRED TO TRUE              02900004
029100                 END-IF                                           02910004
029200                                                                  02920004
029300             WHEN OTHER                                           02930004
029400                 DISPLAY '                   '                    02940004
029500                 DISPLAY 'SQLCODE = ' SQLCODE                     02950004
029600                 DISPLAY 'DP001-FUNC-CODE = ' DP001-FUNC-CODE     02960004
029700                 DISPLAY 'DP001-RET-CODE  = ' DP001-RET-CODE      02970004
029800                 DISPLAY '                   '                    02980004
029900                 DISPLAY 'INSERT ABENDED ON: '                    02990004
030000                 DISPLAY 'LOC-NBR     = ' EP003-LOC-NBR           03000004
030100                 DISPLAY 'INTR-UPC-ID = ' EP003-INTR-UPC-ID       03010004
030200                                                                  03020004
030300                 MOVE 'C200-UPDT-XST-TABLE'                       03030004
030400                                        TO PV-PARAGRAPH-NAME      03040004
030500                 MOVE 'FLASH INSERT'                              03050004
030600                                        TO PV-DB2-OPER-ATTEMPTED  03060004
030700                                                                  03070004
030800                 PERFORM Z200-SQL-ABEND                           03080004
030900         END-EVALUATE                                             03090004
031000     END-PERFORM.                                                 03100004
031100                                                                  03110004
031200                                                                  03120004
031300     IF PV-SQL-SUB > PC-MAX-RETRIES                               03130004
031400         MOVE 'C200-UPDT-XST-TABLE'     TO PV-PARAGRAPH-NAME      03140004
031500         MOVE 'VERIFY RETRIES EXCEEDED' TO PV-DB2-OPER-ATTEMPTED  03150004
031600         PERFORM Z200-SQL-ABEND                                   03160004
031700     END-IF.                                                      03170004
031800                                                                  03180004
031900                                                                  03190004
032000******************************************************************03200004
032100* BUILD THE COMMUNICATION AREA FOR A CALL TO THE TRANSACTION      03210004
032200* PRESENTATION MODULE                                             03220004
032300******************************************************************03230004
032400 X100-BUILD-COMM-AREA-TRAN-PRES.                                  03240004
032500                                                                  03250004
032600     MOVE LENGTH OF                                               03260004
032700          WORK-STORAGE-PASSED TO DP001-WORK-STRG-LENGTH.          03270004
032800     MOVE PC-CKPT-JOB-NAME    TO DP001-JOB-NAME.                  03280004
032900     MOVE PC-CKPT-PLAN-NAME   TO DP001-PLAN-NAME.                 03290004
033000                                                                  03300004
033100     PERFORM X200-CALL-TRANS-PRES-MODULE.                         03310004
033200                                                                  03320004
033300     MOVE DP001-TRANS-RECORD  TO EP003-XST-REC.                   03330004
033400                                                                  03340004
033500     IF  DP001-CKPT-TAKEN                                         03350004
033600         ADD 1 TO PA-CKPT                                         03360004
033700                                                                  03370004
033800         INITIALIZE PV-DEADLOCK-COUNTER                           03380004
033900     END-IF.                                                      03390004
034000                                                                  03400004
034100                                                                  03410004
034200******************************************************************03420004
034300* VERIFY THE RETURN CODE ON THE CALLED MODULE                     03430004
034400******************************************************************03440004
034500 X200-CALL-TRANS-PRES-MODULE.                                     03450004
034600                                                                  03460004
034700     PERFORM Z900-CALL-TRANS-PRES-MODULE.                         03470004
034800                                                                  03480004
034900     IF  DP001-GOOD-RET-CODE                                      03490004
035000     OR  DP001-CKPT-TAKEN                                         03500004
035100     OR  DP001-RESTART                                            03510004
035200         CONTINUE                                                 03520004
035300                                                                  03530004
035400     ELSE                                                         03540004
035500         MOVE 'X200-CALL-TRANS-PRES-MODULE' TO PV-PARAGRAPH-NAME  03550004
035600         MOVE '** BAD CALL TO TRANS PREP MODULE **'               03560004
035700                                            TO PV-OPERATION-MSG   03570004
035800         MOVE DP001-RET-CODE                TO PV-RET-CODE        03580004
035900                                                                  03590004
036000         SET ABEND-4019-CAL-SUB-ERROR TO TRUE                     03600004
036100                                                                  03610004
036200         PERFORM Z100-ABEND                                       03620004
036300     END-IF.                                                      03630004
036400                                                                  03640004
036500                                                                  03650004
036600******************************************************************03660004
036700* NON-DB2 ABEND                                                   03670004
036800******************************************************************03680004
036900 Z100-ABEND.                                                      03690004
037000                                                                  03700004
037100     PERFORM Z999-CONTROLS.                                       03710004
037200                                                                  03720004
037300     DISPLAY '                     '.                             03730004
037400     DISPLAY '** ABEND           **'.                             03740004
037500     DISPLAY '** PROGRAM         ** = ' PC-PROGRAM-NAME.          03750004
037600     DISPLAY '** PARAGRAPH       ** = ' PV-PARAGRAPH-NAME.        03760004
037700     DISPLAY '** OPERATION       ** = ' PV-OPERATION-MSG.         03770004
037800     DISPLAY '** RETURN CODE     ** = ' PV-RET-CODE.              03780004
037900                                                                  03790004
038000     CALL 'ILBOABN0' USING ABEND-CODE.                            03800004
038100                                                                  03810004
038200                                                                  03820004
038300******************************************************************03830004
038400* ABEND THE PROGRAM IN THE EVENT THAT A SQL ERROR OR WARNING      03840004
038500* CODE OCCURS.                                                    03850004
038600******************************************************************03860004
038700 Z200-SQL-ABEND.                                                  03870004
038800                                                                  03880004
038900     PERFORM Z999-CONTROLS.                                       03890004
039000                                                                  03900004
039100     DISPLAY '** ABEND     **'.                                   03910004
039200     DISPLAY '** PROGRAM   ** = ' PC-PROGRAM-NAME.                03920004
039300     DISPLAY '** PARAGRAPH ** = ' PV-PARAGRAPH-NAME.              03930004
039400     DISPLAY '** OPERATION ** = ' PV-DB2-OPER-ATTEMPTED.          03940004
039500                                                                  03950004
039600******************************************************************03960004
039700* THIS COPY BOOK MEMBER CONTAINS THE PROCEDURE DIVISION STATE-    03970004
039800* MENTS THAT ARE REQUIRED TO UTILIZE THE DB2 ABEND MODULE         03980004
039900* 'DSNTIAR' AND CONVERT THE SQLCA INFORMATION INTO A READABLE     03990004
040000* FORMAT.                                                         04000004
040100******************************************************************04010004
040200     COPY DPPD004.                                                04020004
040300                                                                  04030004
040400     SET ABEND-4013-DB2-ERROR TO TRUE.                            04040004
040500                                                                  04050004
040600     CALL 'ILBOABN0' USING ABEND-CODE.                            04060004
040700                                                                  04070004
040800                                                                  04080004
040900******************************************************************04090004
041000* PREFORMS TASK TERMINATION PROCESSING                            04100004
041100******************************************************************04110004
041200 Z990-EOJ-ROUTINE.                                                04120004
041300                                                                  04130004
041400     MOVE PC-TRAN-PRES-FUNC-CLOSE TO DP001-FUNC-CODE.             04140004
041500                                                                  04150004
041600     PERFORM X100-BUILD-COMM-AREA-TRAN-PRES.                      04160004
041700                                                                  04170004
041800     PERFORM Z999-CONTROLS.                                       04180004
041900                                                                  04190004
042000                                                                  04200004
042100******************************************************************04210004
042200* DISPLAY CONTROLS FROM THE PROGRAM                               04220004
042300******************************************************************04230004
042400 Z999-CONTROLS.                                                   04240004
042500                                                                  04250004
042600     MOVE FUNCTION CURRENT-DATE TO SYS-DATE-TIME.                 04260004
042700                                                                  04270004
042800     MOVE SYS-TIME (1:2) TO ST-END-HR.                            04280004
042900     MOVE SYS-TIME (3:2) TO ST-END-MN.                            04290004
043000                                                                  04300004
043100     DISPLAY '                    '.                              04310004
043200     DISPLAY '**********************'.                            04320004
043300     DISPLAY '   EPKUP104 CONTROLS  '.                            04330004
043400     DISPLAY '**********************'.                            04340004
043500     DISPLAY 'RUN DATE  = ' SD-EDIT-DATE.                         04350004
043600     DISPLAY 'BEG TIME  = ' ST-BEG-TIME.                          04360004
043700     DISPLAY 'END TIME  = ' ST-END-TIME.                          04370004
043800     DISPLAY '======================'.                            04380004
043900     DISPLAY 'RECORDS READ = ' PA-READ.                           04390004
044000     DISPLAY 'CHECKPOINTS  = ' PA-CKPT.                           04400004
044100     DISPLAY '               '.                                   04410004
044200     DISPLAY 'ROWS UPDATED = ' PA-ROWS-UPDATED.                   04420004
044300     DISPLAY '               '.                                   04430004
044400                                                                  04440004
044500                                                                  04450004
044600******************************************************************04460004
044700* THIS COPY BOOK MEMBER CONTAINS THE PROCEDURE DIVISION STATE-    04470004
044800* MENTS THAT ARE REQUIRED TO INVOKE THE TRANSACTION PRESENTATION  04480004
044900* MODULE (DPKUT901) OF THE DB2 CHECKPOINT RESTART SYSTEM.         04490004
045000******************************************************************04500004
045100     COPY DPPD001.                                                04510004
045200                                                                  04520004
045300                                                                  04530004
