00001 ******************************************************************        
00002 *   **  PEWS053 - IN STORE DOCUMENT FORMAT WORKING STORAGE  **            
00003 *                                                                         
00004 *   PEWS053 WILL BE USED WITH PEPD003 TO FORMAT A DOCUMENT 132            
00005 *   COLUMNS BY 56 LINES.                                                  
00006 *                                                                         
001010*   CHANGED BY JIM ARENDT ON 08/28/97 - SEE NOTE IN PEPD003.              
W24472*   CHANGED BY ABRAHAM JACOB ON 03/03/03 - NI-SKU PROJECT WR 24472        
      *   CHANGED BY TODD C. MICHALEK ON 01/26/05 - SEE NOT IN PEPD003          
00007 *                                                                         
00008 ******************************************************************        
00009  01  PE053-PS-PROGRAM-SWITCHES.                                           
00010      05  PE053-PS-FIRST-TIME-THRU-SW                                      
00011                                      PIC  X(01)  VALUE 'N'.               
00012          88  PE053-PS-FIRST-TIME-THRU            VALUE 'Y'.               
00013          88  PE053-PS-NOT-FIRST-TIME-THRU        VALUE 'N'.               
00014      05  PE053-PS-END-OF-DETAIL-SW   PIC  X(01)  VALUE 'N'.               
00015          88  PE053-PS-END-OF-DETAIL              VALUE 'Y'.               
00016          88  PE053-PS-NOT-END-OF-DETAIL          VALUE 'N'.               
00017      05  PE053-PS-HEADER-FOUND-SW    PIC  X(01)  VALUE 'N'.               
00018          88  PE053-PS-HEADER-FOUND               VALUE 'Y'.               
00019          88  PE053-PS-NO-HEADER-FOUND            VALUE 'N'.               
00020      05  PE053-PS-ABEND-ERROR-SW     PIC  X(01)  VALUE 'N'.               
00021          88  PE053-PS-ABEND-ERROR                VALUE 'Y'.               
00022          88  PE053-PS-NO-ABEND-ERROR             VALUE 'N'.               
00023 *                                                                         
00024  01  PE053-PROGRAM-VARIABLES.                                             
00025      05  PE053-PV-ABEND-CODE         PIC S9(04)  VALUE 0.                 
00026      05  PE053-PV-ABEND-SQLCODE      PIC S9(09)  VALUE ZEROS.             
00027      05  PE053-PV-ABEND-PARAGRAPH    PIC  X(30)  VALUE SPACES.            
00028      05  PE053-PV-ABEND-MESSAGE      PIC  X(30)  VALUE SPACES.            
00029      05  PE053-PV-DATE.                                                   
00030          10  PE053-PV-YY             PIC  9(02)  VALUE 0.                 
00031          10  PE053-PV-MM             PIC  9(02)  VALUE 0.                 
00032          10  PE053-PV-DD             PIC  9(02)  VALUE 0.                 
00033      05  PE053-PV-DOCUMENT-TO-PROCESS                                     
00034                                      PIC S9(7)V  VALUE +0                 
00035                                                  COMP-3.                  
00036      05  PE053-PV-DT-ENTRIES         PIC S9(04)  VALUE +0                 
00037                                                  COMP SYNC.               
00038      05  PE053-PV-HOLD-ISO-FMT-DATE.                                      
00039          10  PE053-PV-HOLD-ISO-CC    PIC  9(02)  VALUE 0.                 
00040          10  PE053-PV-HOLD-ISO-YY    PIC  9(02)  VALUE 0.                 
00041          10  FILLER                  PIC  X(01)  VALUE SPACE.             
00042          10  PE053-PV-HOLD-ISO-MM    PIC  9(02)  VALUE 0.                 
00043          10  FILLER                  PIC  X(01)  VALUE SPACE.             
00044          10  PE053-PV-HOLD-ISO-DD    PIC  9(02)  VALUE 0.                 
00045      05  PE053-PV-HOLD-TYPE-RSN.                                          
00046          10  PE053-PV-HOLD-TYPE      PIC  9(01)  VALUE 0.                 
00047          10  PE053-PV-HOLD-RSN       PIC  9(02)  VALUE 0.                 
00048      05  PE053-PV-HOLD-TEMP-RSN-CONV.                                     
00049          10  PE053-PV-HOLD-TEMP-RSN  PIC  9(02)  VALUE 0.                 
00050          10  PE053-PV-HOLD-TEMP-CONV PIC  9(01)  VALUE 0.                 
00051      05  PE053-PV-LINE-CNTR          PIC  9(04)  VALUE 0.                 
00052      05  PE053-PV-LINE-NUMBER        PIC  9(03)  VALUE 0.                 
00053      05  PE053-PV-LINES-PER-PAGE     PIC  9(03)  VALUE 0.                 
00054      05  PE053-PV-PAGE-NUMBER        PIC  9(04)  VALUE 0.                 
00055      05  PE053-PV-PAGES-TO-PRINT     PIC  9(04)  VALUE 0.                 
00056      05  PE053-PV-PRICE-DIFF         PIC S9(07)V99                        
00057                                                  VALUE 0.                 
00058      05  PE053-PV-PRINT-INDICATION   PIC  X(01)  VALUE SPACES.            
00059          88  PE053-PV-PRINT                      VALUE ' '.               
00060          88  PE053-PV-REPRINT                    VALUE 'R'.               
00061          88  PE053-PV-GENERATED                  VALUE 'G'.               
00062          88  PE053-PV-GENERATED-REPRINT          VALUE 'X'.               
00063      05  PE053-PV-STORE-NAME         PIC  X(25)  VALUE SPACES.            
00064      05  PE053-PV-STORE-TO-PROCESS   PIC S9(04)  VALUE ZEROS              
                                                       COMP.                    
00069      05  PE053-PV-TIME.                                                   
00070          10  PE053-PV-HH             PIC  9(02)  VALUE 0.                 
00071          10  PE053-PV-MIN            PIC  9(02)  VALUE 0.                 
00072          10  FILLER                  PIC  X(04)  VALUE SPACE.             
00073                                                                           
00074 *                                                                         
00075      EJECT                                                                
00076  01  PE053-PC-PROGRAM-CONSTANTS.                                          
00077     05  PE053-PC-DOC-TYPE-CDE        PIC  X(01)  VALUE 'S'.               
00078     05  PE053-PC-LINE-MAX            PIC  9(02)  VALUE 57.                
00079     05  PE053-PC-LINES-PER-PAGE      PIC  9(02)  VALUE 10.                
00080     05  PE053-PC-MAX-DT-INDEX        PIC S9(04)  VALUE +2000              
00081                                                  COMP-3.                  
00082     05  PE053-PC-MAX-LINES-PER-PAGE  PIC S9(04)  VALUE +66.               
00083     05  PE053-PC-NOT-FOUND           PIC S9(04)  VALUE +100.              
00085     05  PE053-PC-PAGE                PIC  X(01)  VALUE '1'.               
00086     05  PE053-PC-PERM                PIC  X(02)  VALUE 'PE'.              
00087     05  PE053-PC-PROGRAM             PIC  X(08)  VALUE SPACES.            
00088     05  PE053-PC-REPRINT-LINE        PIC  X(21)  VALUE                    
00089         '**  R E P R I N T  **'.                                          
00090     05  PE053-PC-SPACE1              PIC  X(01)  VALUE ' '.               
00091     05  PE053-PC-SPACE2              PIC  X(01)  VALUE '0'.               
00092     05  PE053-PC-SPACE3              PIC  X(01)  VALUE '-'.               
JA0828    05  PE053-PC-PAGE-SUBTOT-LINE.                                        
JA0828        10  FILLER                   PIC  X(105) VALUE SPACES.            
JA0828        10  FILLER                   PIC  X(18)  VALUE                    
JA0828            '   TOTAL THIS PAGE'.                                         
JA0828        10  FILLER                   PIC  X(09)  VALUE ALL '_'.           
00093      EJECT                                                                
00094 *                                                                         
00095 *                                                                         
00096  01  PE053-RH-REPORT-HEADING.                                             
00097      05  PE053-RH-HEADING-1.                                              
00098         10  FILLER                   PIC  X(01)  VALUE SPACES.            
00099         10  PE053-RH-HDR1-REPRINT1   PIC  X(21)  VALUE SPACES.            
00100         10  FILLER                   PIC  X(27)  VALUE SPACES.            
00101         10  FILLER                   PIC  X(30)  VALUE                    
00102            'STORE PRICE CHANGE DOCUMENT #:'.                              
00103         10  FILLER                   PIC  X(01)  VALUE SPACES.            
00104         10 PE053-RH-HDR1-DOC-NUMBER  PIC  9(07)  VALUE ZEROES.            
00105         10  FILLER                   PIC  X(27)  VALUE SPACES.            
00106         10 PE053-RH-HDR1-FIRST-PAGE  PIC  ZZZ9   VALUE ZEROES.            
00107         10  FILLER                   PIC  X(04)  VALUE                    
00108            ' OF '.                                                        
00109         10 PE053-RH-HDR1-LAST-PAGE   PIC  ZZZ9   VALUE ZEROES.            
00110         10  FILLER                   PIC  X(06)  VALUE                    
00111            ' PAGES'.                                                      
00112                                                                           
00113  01  PE053-RD-REPORT-DETAIL-LINES.                                        
00114     05  PE053-RD-DETAIL-LINE1.                                            
00115         10  FILLER                   PIC  X(16)  VALUE                    
00116             ' STORE NUMBER:  '.                                           
00117         10  PE053-RD-LINE1-STORE-NO  PIC  9(04)  VALUE ZEROES.            
00118         10  FILLER                   PIC  X(01)  VALUE SPACES.            
00119         10  PE053-RD-LINE1-STORE-DESC                                     
00120                                      PIC  X(25)  VALUE SPACES.            
00121         10  FILLER                   PIC  X(21)  VALUE SPACES.            
00122         10  FILLER                   PIC  X(11)  VALUE                    
00123             'ISSUED BY: '.                                                
00124         10  PE053-RD-LINE1-ISSUED-BY PIC  X(08)  VALUE SPACES.            
00125         10  FILLER                   PIC  X(01)  VALUE SPACES.            
00126         10  PE053-RD-LINE1-ISSUED-DTE.                                    
00127             15  PE053-RD-LINE1-MONTH PIC  X(02)  VALUE SPACES.            
00128             15  FILLER               PIC  X(01)  VALUE '/'.               
00129             15  PE053-RD-LINE1-DAY   PIC  X(02)  VALUE SPACES.            
00130             15  FILLER               PIC  X(01)  VALUE '/'.               
00131             15  PE053-RD-LINE1-YEAR  PIC  X(02)  VALUE SPACES.            
00132         10  FILLER                   PIC  X(37)  VALUE SPACES.            
00133 *                                                                         
00134     05  PE053-RD-DETAIL-LINE2.                                            
00135         10  FILLER                   PIC  X(15)  VALUE                    
00136             ' REASON CODE.: '.                                            
00137         10  FILLER                   PIC  X(01)  VALUE SPACES.            
00138         10  PE053-RD-LINE2-TYP-CODE  PIC  X(01)  VALUE SPACES.            
00139         10  PE053-RD-LINE2-RSN-CODE  PIC  X(02)  VALUE SPACES.            
00140         10  FILLER                   PIC  X(01)  VALUE SPACES.            
00140*****    10  PE053-RD-LINE2-RSN-DESC  PIC  X(25)  VALUE SPACES.            
00141         10  PE053-RD-LINE2-RSN-DESC  PIC  X(15)  VALUE SPACES.            
00142         10  FILLER                   PIC  X(01)  VALUE SPACES.            
00141         10  PE053-RD-LINE2-UNIT-FIN  PIC  X(18)  VALUE SPACES.            
00142         10  FILLER                   PIC  X(10)  VALUE SPACES.            
00143         10  FILLER                   PIC  X(14)  VALUE                    
00144             'COMPLETED BY: '.                                             
00145         10  PE053-RD-LINE2-CMPL-BY   PIC  X(40)  VALUE ALL '_'.           
00146         10  FILLER                   PIC  X(01)  VALUE SPACES.            
00147         10  PE053-RD-LINE2-CMPL-DTE.                                      
00148             15  PE053-RD-LINE2-MONTH PIC  X(03)  VALUE '___'.             
00149             15  FILLER               PIC  X(01)  VALUE '/'.               
00150             15  PE053-RD-LINE2-DAY   PIC  X(03)  VALUE '___'.             
00151             15  FILLER               PIC  X(01)  VALUE '/'.               
00152             15  PE053-RD-LINE2-YEAR  PIC  X(03)  VALUE '___'.             
00153         10  FILLER                   PIC  X(02)  VALUE SPACES.            
00154      EJECT                                                                
00155     05  PE053-RD-DETAIL-LINE3.                                            
00156         10  FILLER                   PIC  X(20)  VALUE                    
00157             ' PRICE CHANGE TYPE: '.                                       
00158         10  PE053-RD-LINE3-PRC-CHG-DESC                                   
00159                                      PIC  X(12)  VALUE SPACES.            
00160         10  FILLER                   PIC  X(31)  VALUE SPACES.            
00161         10  FILLER                   PIC  X(15)  VALUE                    
00162             'AUTHORIZED BY: '.                                            
00163         10  PE053-RD-LINE3-AUTH-BY   PIC  X(40)  VALUE ALL '_'.           
00164         10  FILLER                   PIC  X(01)  VALUE SPACES.            
00165         10  PE053-RD-LINE3-CMPL-DTE.                                      
00166             15  PE053-RD-LINE3-MONTH PIC  X(03)  VALUE '___'.             
00167             15  FILLER               PIC  X(01)  VALUE '/'.               
00168             15  PE053-RD-LINE3-DAY   PIC  X(03)  VALUE '___'.             
00169             15  FILLER               PIC  X(01)  VALUE '/'.               
00170             15  PE053-RD-LINE3-YEAR  PIC  X(03)  VALUE '___'.             
00171         10  FILLER                   PIC  X(02)  VALUE SPACES.            
00172 *                                                                         
00173     05  PE053-RD-DETAIL-LINE4.                                            
00174         10  FILLER                   PIC  X(12)  VALUE                    
00175             ' DEPT/AREA: '.                                               
00176         10  PE053-RD-LINE4-DPT-AREA  PIC  X(40)  VALUE SPACES.            
00177         10  FILLER                   PIC  X(51)  VALUE SPACES.            
00178         10  FILLER                   PIC  X(41)  VALUE SPACES.            
00179 *                                                                         
00180     05  PE053-RD-DETAIL-LINE5.                                            
JA0828*       10  FILLER                   PIC  X(103) VALUE SPACES.            
JA0828*       10  FILLER                   PIC  X(16)  VALUE                    
JA0828*           'TOTAL QUANTITY: '.                                           
JA0828        10  FILLER                   PIC  X(99)  VALUE SPACES.            
JA0828        10  FILLER                   PIC  X(20)  VALUE                    
JA0828            'GRAND TOTAL PIECES: '.                                       
00184         10  FILLER                   PIC  X(11)  VALUE ALL '_'.           
00185         10  FILLER                   PIC  X(02)  VALUE SPACES.            
00186 *                                                                         
00187     05  PE053-RD-DETAIL-LINE6.                                            
00188         10  FILLER                   PIC  X(48)  VALUE SPACES.            
00189         10  FILLER                   PIC  X(34)  VALUE                    
00190             'ORIGINAL         NEW         PRICE'.                         
00191         10  FILLER                   PIC  X(41)  VALUE SPACES.            
00192         10  FILLER                   PIC  X(06)  VALUE                    
00193             'ASSOC.'.                                                     
00194         10  FILLER                   PIC  X(03)  VALUE SPACES.            
00195 *                                                                         
00196     05  PE053-RD-DETAIL-LINE7.                                            
00197         10  FILLER                   PIC  X(33)  VALUE                    
W24472            ' LN        DEPT/SC            UPC'.                          
00199         10  FILLER                   PIC  X(17)  VALUE SPACES.            
00200         10  FILLER                   PIC  X(33)  VALUE                    
00201             'PRICE         PRICE         DIFF.'.                          
00202         10  FILLER                   PIC  X(08)  VALUE SPACES.            
00203         10  FILLER                   PIC  X(39)  VALUE                    
00204             'QUANTITY   STYLE/DESCRIPTION   INITIALS'.                    
00205         10  FILLER                   PIC  X(02)  VALUE SPACES.            
00206 *                                                                         
00207     05  PE053-RD-DETAIL-LINE8.                                            
00208         10  FILLER                   PIC  X(23)  VALUE                    
00209             '-----------------------'.                                    
00210         10  FILLER                   PIC  X(22)  VALUE ALL '-'.           
00211         10  FILLER                   PIC  X(01)  VALUE '-'.               
00212         10  FILLER                   PIC  X(13)  VALUE ALL '-'.           
00213         10  FILLER                   PIC  X(01)  VALUE '-'.               
00214         10  FILLER                   PIC  X(13)  VALUE ALL '-'.           
00215         10  FILLER                   PIC  X(01)  VALUE '-'.               
00216         10  FILLER                   PIC  X(13)  VALUE ALL '-'.           
00217         10  FILLER                   PIC  X(01)  VALUE '-'.               
00218         10  FILLER                   PIC  X(13)  VALUE ALL '-'.           
00219         10  FILLER                   PIC  X(01)  VALUE '-'.               
00220         10  FILLER                   PIC  X(19)  VALUE ALL '-'.           
00221         10  FILLER                   PIC  X(01)  VALUE '-'.               
00222         10  FILLER                   PIC  X(09)  VALUE ALL '-'.           
00223         10  FILLER                   PIC  X(01)  VALUE SPACE.             
00224 *                                                                         
00225     05  PE053-RD-DETAIL-LINE9.                                            
00226         10  PE053-RD-LINE9-LINENO    PIC  X(03)  VALUE SPACES.            
00227         10  FILLER                   PIC  X(01)  VALUE SPACES.            
00228         10  FILLER                   PIC  X(01)  VALUE '!'.               
00229         10  FILLER                   PIC  X(06)  VALUE SPACES.            
W24472        10  FILLER                   PIC  X(01)  VALUE SPACES.            
00231         10  FILLER                   PIC  X(04)  VALUE SPACES.            
W24472        10  FILLER                   PIC  X(01)  VALUE SPACES.            
00233         10  FILLER                   PIC  X(05)  VALUE SPACES.            
00234         10  FILLER                   PIC  X(01)  VALUE '!'.               
00235         10  FILLER                   PIC  X(22)  VALUE SPACES.            
00236         10  FILLER                   PIC  X(01)  VALUE '!'.               
00237         10  FILLER                   PIC  X(13)  VALUE SPACES.            
00238         10  FILLER                   PIC  X(01)  VALUE '!'.               
00239         10  FILLER                   PIC  X(13)  VALUE SPACES.            
00240         10  FILLER                   PIC  X(01)  VALUE '!'.               
00241         10  FILLER                   PIC  X(13)  VALUE SPACES.            
00242         10  FILLER                   PIC  X(01)  VALUE '!'.               
00243         10  FILLER                   PIC  X(13)  VALUE SPACES.            
00244         10  FILLER                   PIC  X(01)  VALUE '!'.               
00245         10  FILLER                   PIC  X(19)  VALUE SPACES.            
00246         10  FILLER                   PIC  X(01)  VALUE '!'.               
00247         10  FILLER                   PIC  X(10)  VALUE SPACES.            
00248      EJECT                                                                
00249 *                                                                         
00250     05  PE053-RD-DETAIL-LINE10.                                           
00251         10  FILLER                   PIC  X(01)  VALUE SPACES.            
00252         10  PE053-RD-LINE10-LINENO   PIC  X(03)  VALUE SPACES.            
00253         10  FILLER                   PIC  X(01)  VALUE '!'.               
W24472        10  FILLER                   PIC  X(05)  VALUE SPACES.            
W24472        10  PE053-RD-LINE10-SKU      PIC  X(08)  VALUE SPACES.            
W24472        10  FILLER                   PIC  X(04)  VALUE SPACES.            
00265         10  FILLER                   PIC  X(01)  VALUE '!'.               
00266         10  FILLER                   PIC  X(05)  VALUE SPACES.            
00267         10  PE053-RD-LINE10-UPC      PIC  X(13)  VALUE SPACES.            
00268         10  FILLER                   PIC  X(04)  VALUE SPACES.            
00269         10  FILLER                   PIC  X(01)  VALUE '!'.               
00270         10  PE053-RD-LINE10-ORIG-PR  PIC  Z,ZZZ,ZZZ.99-                   
00271                                                  VALUE ZEROS.             
00272         10  FILLER                   PIC  X(01)  VALUE '!'.               
00273         10  PE053-RD-LINE10-NEW-PR   PIC  Z,ZZZ,ZZZ.99-                   
00274                                                  VALUE ZEROS.             
00275         10  FILLER                   PIC  X(01)  VALUE '!'.               
00276         10  PE053-RD-LINE10-PR-DIFF  PIC  Z,ZZZ,ZZZ.99-                   
00277                                                  VALUE ZEROS.             
00278         10  FILLER                   PIC  X(01)  VALUE '!'.               
00279         10  FILLER                   PIC  X(03)  VALUE SPACES.            
00280         10  PE053-RD-LINE10-QTY      PIC  Z,ZZZ,ZZ9-                      
00281                                                  VALUE ZEROS.             
00282         10  FILLER                   PIC  X(01)  VALUE '!'.               
00283         10  PE053-RD-LINE10-DESC     PIC  X(19)  VALUE SPACES.            
00284         10  FILLER                   PIC  X(01)  VALUE '!'.               
W24472        10  FILLER                   PIC  X(10)  VALUE SPACES.            
00286      EJECT                                                                
00287 *                                                                         
00288     05  PE053-RD-DETAIL-LINE11.                                           
00289         10  FILLER                   PIC  X(23)  VALUE                    
00290 *           '_______________________'.                                    
W24472*           '____!______!____!_____!'.                                    
00291             '____!_________________!'.                                    
00292         10  FILLER                   PIC  X(22)  VALUE ALL '_'.           
00293         10  FILLER                   PIC  X(01)  VALUE '!'.               
00294         10  FILLER                   PIC  X(13)  VALUE ALL '_'.           
00295         10  FILLER                   PIC  X(01)  VALUE '!'.               
00296         10  FILLER                   PIC  X(13)  VALUE ALL '_'.           
00297         10  FILLER                   PIC  X(01)  VALUE '!'.               
00298         10  FILLER                   PIC  X(13)  VALUE ALL '_'.           
00299         10  FILLER                   PIC  X(01)  VALUE '!'.               
00300         10  FILLER                   PIC  X(13)  VALUE ALL '_'.           
00301         10  FILLER                   PIC  X(01)  VALUE '!'.               
00302         10  FILLER                   PIC  X(19)  VALUE ALL '_'.           
00303         10  FILLER                   PIC  X(01)  VALUE '!'.               
00304         10  FILLER                   PIC  X(10)  VALUE ALL '_'.           
00305         10  FILLER                   PIC  X(01)  VALUE SPACE.             
00306 *                                                                         
00307     05  PE053-RD-DETAIL-LINE12.                                           
00308         10  FILLER                   PIC  X(15)  VALUE                    
00309             ' REASON CODES: '.                                            
00310         10  FILLER                   PIC  X(117) VALUE SPACES.            
00311 *                                                                         
00312     05  PE053-RD-DETAIL-LINE13.                                           
00313         10  FILLER                   PIC  X(18)  VALUE SPACES.            
00314         10  FILLER                   PIC  X(09)  VALUE                    
00315             'MARKDOWNS'.                                                  
00316         10  FILLER                   PIC  X(28)  VALUE SPACES.            
00317         10  FILLER                   PIC  X(16)  VALUE                    
00318             'MARKDOWN CANCELS'.                                           
00319         10  FILLER                   PIC  X(23)  VALUE SPACES.            
00320         10  FILLER                   PIC  X(07)  VALUE                    
00321             'MARKUPS'.                                                    
00322         10  FILLER                   PIC  X(31)  VALUE SPACES.            
00323 *                                                                         
00324     05  PE053-RD-DETAIL-LINE14.                                           
00325         10  FILLER                   PIC  X(01)  VALUE SPACES.            
00326         10  FILLER                   PIC  X(46)  VALUE ALL '-'.           
00327         10  FILLER                   PIC  X(05)  VALUE SPACES.            
00328         10  FILLER                   PIC  X(32)  VALUE ALL '-'.           
00329         10  FILLER                   PIC  X(05)  VALUE SPACES.            
00330         10  FILLER                   PIC  X(36)  VALUE ALL '-'.           
00331         10  FILLER                   PIC  X(07)  VALUE SPACES.            
00332 *                                                                         
00333     05  PE053-RD-DETAIL-LINE15.                                           
00334         10  FILLER                   PIC  X(01)  VALUE SPACES.            
00335         10  PE053-RD-LINE15-MKDN-RSN PIC  X(03)  VALUE SPACES.            
00336         10  FILLER                   PIC  X(01)  VALUE SPACES.            
00337         10  PE053-RD-LINE15-MKDN-DESC                                     
00338                                      PIC  X(46)  VALUE SPACES.            
00339         10  FILLER                   PIC  X(04)  VALUE SPACES.            
00340         10  PE053-RD-LINE15-MKDNCAN-RSN                                   
00341                                      PIC  X(03)  VALUE SPACES.            
00342         10  FILLER                   PIC  X(02)  VALUE SPACES.            
00343         10  PE053-RD-LINE15-MKDNCAN-DESC                                  
00344                                      PIC  X(30)  VALUE SPACES.            
00345         10  FILLER                   PIC  X(02)  VALUE SPACES.            
00346         10  PE053-RD-LINE15-MKUP-RSN PIC  X(03)  VALUE SPACES.            
00347         10  FILLER                   PIC  X(02)  VALUE SPACES.            
00348         10  PE053-RD-LINE15-MKUP-DESC                                     
00349                                      PIC  X(30)  VALUE SPACES.            
00350         10  FILLER                   PIC  X(05)  VALUE SPACES.            
00351 *                                                                         
00352     05  PE053-RD-DETAIL-LINE16.                                           
JA0828        10  FILLER                   PIC  X(02)  VALUE SPACES.            
00354         10  FILLER                   PIC  X(22)  VALUE                    
00355             '* - REDUCTION IN UNITS'.                                     
JA0828        10  FILLER                   PIC  X(108) VALUE SPACES.            
00356 *                                                                         
00357      EJECT                                                                
00358 *                                                                         
00359  01 PE053-WORKING-STORAGE-TABLES.                                         
00360                                                                           
00361     05  PE053-DT-DOCUMENT-TABLE.                                          
00362         10 PE053-DT-DOCUMENT-LINE-ENTRIES                                 
00363                                      OCCURS 2000 TIMES                    
00364                                      INDEXED BY PE053-DT-INDEX.           
00365              15  PE053-DT-DETAIL-LINE.                                    
00366                                                                           
00367                  20  PE053-DT-CTL    PIC  X(01).                          
00368                  20  PE053-DT-DATA   PIC  X(132).                         
00369                  20  FILLER  REDEFINES  PE053-DT-DATA.                    
00370                      25  FILLER      PIC  X(121).                         
00371                      25  PE053-DT-WORD-PAGE                               
00372                                      PIC  X(06).                          
00373                      25  PE053-DT-PAGE-LINE                               
00374                                      PIC  X(05).                          
00375                                                                           
00376  EJECT                                                                    
00377 *                                                                         
00378 *   SET UP CURSOR FOR DETAIL INFORMATION IN ROW NUMBER SEQUENCE           
00379 *                                                                         
00380       EXEC SQL                                                            
00381           DECLARE DETAIL_CSR CURSOR FOR                                   
00382              SELECT                                                       
00383                 ROW_NBR,                                                  
W24472                X.DEPT_NBR,                                               
W24472                X.CL_NBR,                                                 
W24472                SKU_NBR,                                                  
00387                 ACTL_PR_CHG_QTY,                                          
00388                 OLD_PR,                                                   
00389                 NEW_PR,                                                   
00390                 UPC_NBR                                                   
W24472             FROM TSPPCDT,                                                
W24472                  TSKXREF X                                               
W24472             WHERE (DEST_LOC_NBR = :SPPCDT-DEST-LOC-NBR)                  
W24472               AND (DOC_NBR      = :SPPCDT-DOC-NBR)                       
W24472               AND (SKU_NBR      = X.SKU)                                 
W24472               AND (SKU_STAT_CDE  > '00')                                 
00395              ORDER BY ROW_NBR                                             
00396       END-EXEC.                                                           
00397  EJECT                                                                    
