00001 *                                                                 08/24/90
00002 *      THIS PROCEDURE DIVISION COPY BOOK IS USED FOR THE RETURN   DPPD003 
00003 *  TO CICS LOGIC FOR PROGRAMS UNDER THE NEW CICS ARCHITECTURE.       LV003
00004 *  A RETURN WILL BE ISSUED WITH OR WITHOUT A TRANSACTION ID,      DPPD003 
00005 *  DEPENDING ON THE SETTING OF A STANDARD COMMAREA SWITCH.  IF    DPPD003 
00006 *  ANY TRANSACTION IS STARTED ON THE SAME TERMINAL DURING THE     DPPD003 
00007 *  EXECUTION OF THE CURRENT TRANSACTION, THE SWITCH WILL BE SET   DPPD003 
00008 *  TO RETURN WITHOUT TRANSACTION ID TO TERMINATE THE CURRENT      DPPD003 
00009 *  TRANSACTION.                                                   DPPD003 
00010 *                                                                 DPPD003 
00011                                                                   DPPD003 
00012  DP003-0000-RETURN-TO-CICS.                                       DPPD003 
00013      IF DP020-SRC-RETURN-W-TRAN-ID                                DPPD003 
00014          EXEC CICS                                                DPPD003 
00015              RETURN                                               DPPD003 
00016                  TRANSID  (DP020-SRC-TRAN-ID)                        CL**2
00017                  COMMAREA (DP020-STANDARD-COMMAREA)                  CL**2
00018                  LENGTH   (DP020-COMMAREA-LENGTH)                    CL**3
00019          END-EXEC                                                 DPPD003 
00020      ELSE                                                         DPPD003 
00021          EXEC CICS                                                DPPD003 
00022              RETURN                                               DPPD003 
00023          END-EXEC                                                 DPPD003 
00024      END-IF.                                                      DPPD003 
00025 *DP003-0000-EXIT.                                                 DPPD003 
